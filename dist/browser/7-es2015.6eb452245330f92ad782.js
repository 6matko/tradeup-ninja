(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{WmrS:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O}));var c=n("ofXK"),i=n("fXoL"),o=n("3Pt+"),a=n("gBd9"),r=n("Y7aL"),s=n("/8iw"),l=n("mXDH"),b=n("kYCs"),u=n("AfXL"),m=n("Qvw5"),d=n("nQgQ"),p=n("Q75r"),g=n("5eHb"),h=n("tyNb"),K=n("1kSV"),f=n("ZOsW");function S(t,e){if(1&t&&(i.Tb(0,"div",32),i.Kc(1,"\n    "),i.Tb(2,"ngb-progressbar",33),i.Kc(3,"\n    "),i.Sb(),i.Kc(4,"\n  "),i.Sb()),2&t){const t=i.hc(2);i.zb(2),i.pc("value",t.searchProgress.current)("max",t.searchProgress.total)("striped",!0)("animated",!0)}}function v(t,e){if(1&t&&(i.Tb(0,"div"),i.Kc(1,"\n  "),i.Tb(2,"div",28),i.Kc(3,"\n    "),i.Ob(4,"div",29),i.Kc(5,"\n    "),i.Tb(6,"div",30),i.Kc(7,"Searching..."),i.Sb(),i.Kc(8,"\n  "),i.Sb(),i.Kc(9,"\n  "),i.Ic(10,S,5,4,"div",31),i.Kc(11,"\n"),i.Sb()),2&t){const t=i.hc();i.zb(10),i.pc("ngIf",null==t.searchProgress?null:t.searchProgress.total)}}function T(t,e){if(1&t&&(i.Tb(0,"li",8),i.Kc(1,"\n            "),i.Tb(2,"button",34),i.Ob(3,"i",35),i.Kc(4,"\n            "),i.Sb(),i.Kc(5,"\n          "),i.Sb()),2&t){const t=i.hc(),e=i.yc(69),n=i.yc(72);i.pc("ngbTooltip",t.summary?"You have all slots filled. Nothing to fill":"Fill trade ups with optimal filler items"),i.zb(2),i.pc("disabled",t.summary)("ngbPopover",e)("popoverTitle",n)("autoClose","outside")}}function y(t,e){if(1&t){const t=i.Ub();i.Tb(0,"li",36),i.Kc(1,"\n            "),i.Tb(2,"button",37),i.fc("click",(function(){return i.Bc(t),i.hc().stop()})),i.Ob(3,"i",38),i.Kc(4,"\n            "),i.Sb(),i.Kc(5,"\n          "),i.Sb()}}function k(t,e){if(1&t){const t=i.Ub();i.Kc(0,"\n  "),i.Tb(1,"form",39),i.fc("submit",(function(){return i.Bc(t),i.hc().start()})),i.Kc(2,"\n    "),i.Tb(3,"div",40),i.Kc(4),i.Sb(),i.Kc(5,"\n    "),i.Tb(6,"div",41),i.Kc(7,"\n      "),i.Tb(8,"div",42),i.Kc(9,"\n        "),i.Tb(10,"div",43),i.Kc(11,"\n          "),i.Tb(12,"div",44),i.Kc(13,"\n            "),i.Ob(14,"input",45),i.Kc(15,"\n            "),i.Tb(16,"label",46),i.Kc(17,"Use single collection items\n              "),i.Ob(18,"i",47),i.Kc(19,"\n            "),i.Sb(),i.Kc(20,"\n          "),i.Sb(),i.Kc(21,"\n        "),i.Sb(),i.Kc(22,"\n      "),i.Sb(),i.Kc(23,"\n      "),i.Tb(24,"div",42),i.Kc(25,"\n        "),i.Tb(26,"div",43),i.Kc(27,"\n          "),i.Tb(28,"label",48),i.Kc(29),i.Ob(30,"i",49),i.Kc(31,"\n          "),i.Sb(),i.Kc(32,"\n          "),i.Tb(33,"div",43),i.Kc(34,"\n            "),i.Tb(35,"div",50),i.Kc(36,"\n              "),i.Ob(37,"input",51),i.Kc(38,"\n            "),i.Sb(),i.Kc(39,"\n          "),i.Sb(),i.Kc(40,"\n        "),i.Sb(),i.Kc(41,"\n      "),i.Sb(),i.Kc(42,"\n      "),i.Tb(43,"div",42),i.Kc(44,"\n        "),i.Tb(45,"div",43),i.Kc(46,"\n          "),i.Tb(47,"label",48),i.Kc(48,"Min volume"),i.Sb(),i.Kc(49,"\n          "),i.Tb(50,"div",43),i.Kc(51,"\n            "),i.Tb(52,"div",50),i.Kc(53,"\n              "),i.Ob(54,"input",52),i.Kc(55,"\n            "),i.Sb(),i.Kc(56,"\n          "),i.Sb(),i.Kc(57,"\n        "),i.Sb(),i.Kc(58,"\n      "),i.Sb(),i.Kc(59,"\n      "),i.Tb(60,"div",42),i.Kc(61,"\n        "),i.Tb(62,"div",43),i.Kc(63,"\n          "),i.Tb(64,"label",48),i.Kc(65,"Collections to include\n            "),i.Ob(66,"i",53),i.Kc(67,"\n          "),i.Sb(),i.Kc(68,"\n          "),i.Tb(69,"div",43),i.Kc(70,"\n            "),i.Tb(71,"div",50),i.Kc(72,"\n              "),i.Ob(73,"ng-select",54),i.Kc(74,"\n            "),i.Sb(),i.Kc(75,"\n          "),i.Sb(),i.Kc(76,"\n        "),i.Sb(),i.Kc(77,"\n      "),i.Sb(),i.Kc(78,"\n      "),i.Tb(79,"div",42),i.Kc(80,"\n        "),i.Tb(81,"div",43),i.Kc(82,"\n          "),i.Tb(83,"label",48),i.Kc(84,"Collections to exclude\n            "),i.Ob(85,"i",55),i.Kc(86,"\n          "),i.Sb(),i.Kc(87,"\n          "),i.Tb(88,"div",43),i.Kc(89,"\n            "),i.Tb(90,"div",50),i.Kc(91,"\n              "),i.Ob(92,"ng-select",56),i.Kc(93,"\n            "),i.Sb(),i.Kc(94,"\n          "),i.Sb(),i.Kc(95,"\n        "),i.Sb(),i.Kc(96,"\n      "),i.Sb(),i.Kc(97,"\n    "),i.Sb(),i.Kc(98,"\n    "),i.Tb(99,"div",57),i.Kc(100,"\n      "),i.Tb(101,"button",58),i.Kc(102,"\n        Search\n      "),i.Sb(),i.Kc(103,"\n    "),i.Sb(),i.Kc(104,"\n  "),i.Sb(),i.Kc(105,"\n")}if(2&t){const t=i.hc();i.zb(1),i.pc("formGroup",t.searchSettingForm),i.zb(3),i.Mc("",t.summary?"You have all slots filled. Nothing to fill":"Search for filler items","\n    "),i.zb(25),i.Mc("Difficulty (0-1) - ",t.searchSettingForm.get("difficulty").value," "),i.zb(8),i.Eb("is-invalid",t.searchSettingForm.get("difficulty").invalid),i.zb(36),i.pc("items",t.collectionsForSearch)("multiple",!0)("searchFn",t.searchFn),i.zb(19),i.pc("items",t.collectionsForSearch)("multiple",!0)("searchFn",t.searchFn)}}function I(t,e){1&t&&i.Kc(0,"Search settings")}function C(t,e){if(1&t){const t=i.Ub();i.Kc(0,"\n  "),i.Tb(1,"h4",59),i.Kc(2,"Share this tradeup via following URL"),i.Sb(),i.Kc(3,"\n  "),i.Tb(4,"div",60),i.Kc(5),i.Sb(),i.Kc(6,"\n  "),i.Tb(7,"div",61),i.Kc(8,"\n    "),i.Tb(9,"button",62),i.fc("click",(function(){return i.Bc(t),i.hc().copyShareLink()})),i.Kc(10),i.Sb(),i.Kc(11,"\n  "),i.Sb(),i.Kc(12,"\n")}if(2&t){const t=i.hc();i.zb(5),i.Mc("\n    ",t.shareUrl,"\n  "),i.zb(5),i.Lc(t.copyLinkDisplayText)}}let O=(()=>{class e{constructor(t,e,n,c,o,a,r,s){this.sharedTradeupService=t,this.tradeupSimulationService=e,this.cdr=n,this.parentForm=c,this.toastr=o,this.formBuilder=a,this.router=r,this.document=s,this.inputItems=[],this.loadingActive=new i.n,this.resetTradeup=new i.n,this.openOverview=new i.n,this.copyLinkDisplayText="Copy link",this.collectionsForSearch=[],this.bestTradeups=[],this.searchFn=(t,e)=>e.name.toLowerCase().replace(/[.]/g,"").includes(t.toLowerCase().replace(/[.]/g,"")),this.createSearchForm()}ngOnInit(){}ngOnDestroy(){this.worker&&this.worker.terminate()}ngOnChanges(t){var e,n,c,i,o,a,r,s,l,b;((null===(e=t.structCollections)||void 0===e?void 0:e.currentValue)||(null===(n=t.settings)||void 0===n?void 0:n.currentValue)&&this.structCollections)&&(this.collectionsForSearch=this.structCollections.filter(t=>{var e,n;return null===(n=null===(e=t.items[this.settings.rarity])||void 0===e?void 0:e.skins)||void 0===n?void 0:n.length}).filter(t=>{var e,n;return!this.settings.stattrak||(null===(n=null===(e=t.items[this.settings.rarity])||void 0===e?void 0:e.skins[0])||void 0===n?void 0:n.stattrak)}).map(t=>t.collection),(null===(i=null===(c=t.settings)||void 0===c?void 0:c.currentValue)||void 0===i?void 0:i.stattrak)===(null===(a=null===(o=t.settings)||void 0===o?void 0:o.previousValue)||void 0===a?void 0:a.stattrak)&&(null===(s=null===(r=t.settings)||void 0===r?void 0:r.currentValue)||void 0===s?void 0:s.rarity)===(null===(b=null===(l=t.settings)||void 0===l?void 0:l.previousValue)||void 0===b?void 0:b.rarity)||this.searchSettingForm.patchValue({excludedCollections:[],includedCollections:[],primaryCollection:null}))}clearTradeup(){this.resetTradeup.emit()}start(){this.worker&&this.stop(),this.bestTradeups.length=0,this.isLoading=!0,this.loadingActive.emit(this.isLoading),this.initWorker();let t=new m.i;t.maxTradeups=1,t.rarity=this.settings.rarity,t.stattrak=this.settings.stattrak,t.compareWithoutTax=this.settings.withoutSteamTax,t=Object.assign(t,this.searchSettingForm.value),this.worker.postMessage({cmd:"start",structCollections:this.structCollections,settings:t,inputItems:this.inputItems})}stop(){this.worker.terminate(),this.isLoading=!1,this.loadingActive.emit(this.isLoading)}simulateTradeup(){const t=new d.a;t.cost=this.summary.cost,t.outcomes=this.summary.outcomeSummary.outcomes,t.stattrak=this.settings.stattrak,this.tradeupSimulationService.simulateTradeupByOutcomes(t)}createShareLink(){const t=this.parentForm.form.get("items").value,e={itemIds:[...t.map(t=>{var e,n;return(null===(n=null===(e=t.inputItem)||void 0===e?void 0:e.normal_nameIds)||void 0===n?void 0:n.length)?t.inputItem.normal_nameIds.filter(t=>!!t)[0]:null})],floats:[...t.map(t=>t.float)],prices:[...t.map(t=>t.price)],shared:new Date},n=JSON.stringify(e),c=Object(a.compress)(n),i=[];for(const a in c)Object.prototype.hasOwnProperty.call(c,a)&&i.push(c[a]);const o=this.router.createUrlTree(["calculator"],{queryParams:{r:this.settings.rarity,st:!!this.settings.stattrak||void 0,notax:!!this.settings.withoutSteamTax||void 0,inputs:i.toString()}}),r=this.document.location.origin+o.toString();this.shareUrl=r}copyShareLink(){Object(r.a)(this.shareUrl),this.copyLinkDisplayText="Copied!",setTimeout(()=>{this.copyLinkDisplayText="Copy link"},1e3)}addToResult(){const t=new l.c;t.stattrak=this.settings.stattrak,t.received=0;const e=this.inputItems.filter(t=>Boolean(t.inputItem)),n=e.map(t=>new l.a({name:t.inputItem.name,float:t.float,price:t.price}));if(n.length<10)for(let o=10-(10-n.length);o<10;o++){const t=new l.a({float:0,name:"",price:0});n.push(t)}t.inputItems=n,this.summary?(t.summary=new l.e(t,this.summary.cost),t.calculatedSummary=this.summary,t.floatRequired=this.summary.averageFloat):t.summary=new l.e(t);const c=e.map(t=>{const e=new m.f;return e.float=t.float,e.item=t.inputItem,e}),i=Object(b.a)(c,this.settings.stattrak,this.structCollections);t.calculatedSummary=i,this.sharedTradeupService.addNewResult(t).subscribe(t=>{this.toastr.success("Tradeup has been added and marked as uncompleted","Tradeup added to results")})}downloadCSV(){const t=this.inputItems.filter(t=>Boolean(t.inputItem)).map(t=>({name:`${this.settings.stattrak?"StatTrak\u2122 ":""}${t.inputItem.name}`,float:t.float,price:t.price})),e=(t,e)=>null===e?"":e,n=Object.keys(t[0]),c=t.map(t=>n.map(n=>JSON.stringify(t[n],e)).join(","));c.unshift(n.join(","));const i=c.join("\r\n"),o=document.createElement("a"),a=new Blob([new Uint8Array([239,187,191]),i],{type:"text/csv;charset=utf-8;"}),r=window.URL.createObjectURL(a);o.href=r,o.download=`TradeupNinja-Calculator-${(new Date).getTime()}.csv`,o.click(),window.URL.revokeObjectURL(r),o.remove()}emitOverviewOpening(){this.openOverview.emit()}initWorker(){"undefined"!=typeof Worker?(this.worker=new Worker(t,{type:void 0,name:"Filler search"}),this.worker.onmessage=({data:t})=>{this.handleWorkerResponse(t)}):this.toastr.error("Can't search without Web Workers. Try using different browser or enable this feature","Web workers not supported",{disableTimeOut:!0})}handleWorkerResponse(t){t.progress&&(this.searchProgress=t.progress),t.data?this.bestTradeups=t.data.bestTradeups:this.bestTradeups.length=0,t.completed&&(this.bestTradeups.length?(this.fillCalculatorEmptySlots(this.bestTradeups[0]),this.toastr.success("Fillers were added to the trade up","Search completed")):this.toastr.warning("Didn't find any profitable fillers. Try other settings","Search completed"),this.stop()),this.cdr.markForCheck()}fillCalculatorEmptySlots(t){const e=this.parentForm.form.get("items").value;let n=e.filter(t=>!Boolean(t.inputItem)).length;for(let c=0;c<e.length;c++){const i=e[c];if(!i.inputItem){const e=10-n--,a=t.items[e];i.float=+a.float.toFixed(7),i.inputItem=a.item,i.floatIndex=Object(u.e)(i.float),i.price=+Object(u.g)(a.item,i.float,this.settings.stattrak).toFixed(2);const r=this.parentForm.form.get("items."+c);r.get("float").setValidators([o.y.required,o.y.min(a.item.min),o.y.max(a.item.max)]),r.setValue(i)}}}createSearchForm(){this.searchSettingForm=this.formBuilder.group({difficulty:[.5,[o.y.min(.01),o.y.max(.99)]],minVolume:[1],useSingleCollection:[!1],excludedCollections:[],includedCollections:[]})}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(s.a),i.Nb(p.a),i.Nb(i.h),i.Nb(o.k),i.Nb(g.b),i.Nb(o.f),i.Nb(h.d),i.Nb(c.e))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-tradeup-calculator-actions"]],inputs:{inputItems:"inputItems",summary:"summary",settings:"settings",structCollections:"structCollections",emtpySlotAmount:"emtpySlotAmount"},outputs:{loadingActive:"loadingActive",resetTradeup:"resetTradeup",openOverview:"openOverview"},features:[i.yb([],[{provide:o.b,useExisting:o.k}]),i.xb],decls:76,vars:13,consts:[[4,"ngIf"],[1,"card"],[1,"card-body"],[1,"media"],[1,"avatar","avatar-xl","mr-5","fas","fa-cogs"],[1,"media-body"],[1,"m-0"],[1,"action-links","list-inline","mb-0","mt-2"],[1,"list-inline-item",3,"ngbTooltip"],["type","button","container","body",1,"action-btn",3,"disabled","click"],[1,"fas","fa-th-large"],["type","button","container","body","popoverClass","share-popover alert alert-info p-2",1,"action-btn",3,"disabled","ngbPopover","autoClose","click"],[1,"fas","fa-share"],["class","list-inline-item",3,"ngbTooltip",4,"ngIf"],["class","list-inline-item",4,"ngIf"],["ngbTooltip","Save trade up to results",1,"list-inline-item"],["type","button",1,"action-btn",3,"click"],[1,"fas","fa-plus"],["container","body","placement","top",1,"list-inline-item",3,"ngbTooltip"],["type","button",1,"action-btn",3,"disabled","click"],[1,"fas","fa-forward"],[1,"fas","fa-file-csv"],["container","body","placement","top","ngbTooltip","Clear trade up",1,"list-inline-item"],["type","button",1,"danger","action-btn",3,"click"],[1,"fas","fa-trash"],["searchFillersContent",""],["searchFillersTitle",""],["shareTradeupPopover",""],[1,"h2"],[1,"loading-indicator","searching-loader"],[1,"text-muted","text-center"],["class","my-3",4,"ngIf"],[1,"my-3"],["type","success",3,"value","max","striped","animated"],["type","button","container","body",1,"action-btn",3,"disabled","ngbPopover","popoverTitle","autoClose"],[1,"fas","fa-search"],[1,"list-inline-item"],["type","button","ngbTooltip","Stop searching",1,"action-btn",3,"click"],[1,"fas","fa-stop"],[3,"formGroup","submit"],[1,"text-center","h5"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"custom-control","custom-switch"],["type","checkbox","formControlName","useSingleCollection","id","useSingleCollection",1,"custom-control-input"],["for","useSingleCollection",1,"custom-control-label"],["placement","bottom","ngbTooltip","If single collection is disabled then filler items will be taken within one or two different collections which means there will be more variations. If this is enabled then filler items will be taken only from single collection (Faster search)",1,"fas","fa-info-circle","ml-1","text-info"],[1,"control-label"],["placement","top","ngbTooltip","The lower the value is the lower input item floats are needed (harder to find). Higher value will result into more easier floats and might help find tradeups with higher quality (FT, WW, BS)",1,"fas","fa-info-circle","ml-1","text-info"],[1,"input-group","mb-3"],["type","range","min","0.01","max","0.99","step","0.01","id","difficulty","formControlName","difficulty",1,"custom-range"],["type","number","aria-label","Minimal volume","formControlName","minVolume",1,"form-control"],["placement","top","ngbTooltip","Select which collections to include into search. Keep in mind that search will be done ONLY within SELECTED collections. You can select multiple collections to include.",1,"fas","fa-info-circle","ml-1","text-info"],["formControlName","includedCollections","bindLabel","name",1,"w-100",3,"items","multiple","searchFn"],["placement","top","ngbTooltip","Select collections that should be excluded from search. Keep in mind that INCLUDED collections will not work with EXCLUDED. If both are selected then search will IGNORE INCLUDED collections. You can select multiple collections to exclude.",1,"fas","fa-info-circle","ml-1","text-info"],["formControlName","excludedCollections","bindLabel","name",1,"w-100",3,"items","multiple","searchFn"],[1,"text-center"],["type","submit",1,"btn","btn-outline-success"],[1,"text-white","mb-2"],[1,"leading-tight","text-white","share-url"],[1,"btn-list","mt-3"],["type","button",1,"btn","btn-success","btn-block",3,"click"]],template:function(t,e){if(1&t&&(i.Ic(0,v,12,1,"div",0),i.Kc(1,"\n\n"),i.Tb(2,"div",1),i.Kc(3,"\n  "),i.Tb(4,"div",2),i.Kc(5,"\n    "),i.Tb(6,"div",3),i.Kc(7,"\n      "),i.Ob(8,"span",4),i.Kc(9,"\n      "),i.Tb(10,"div",5),i.Kc(11,"\n        "),i.Tb(12,"h4",6),i.Kc(13,"Actions"),i.Sb(),i.Kc(14,"\n        "),i.Tb(15,"ul",7),i.Kc(16,"\n          "),i.Tb(17,"li",8),i.Kc(18,"\n            "),i.Tb(19,"button",9),i.fc("click",(function(){return e.emitOverviewOpening()})),i.Ob(20,"i",10),i.Kc(21,"\n            "),i.Sb(),i.Kc(22,"\n          "),i.Sb(),i.Kc(23,"\n          "),i.Tb(24,"li",8),i.Kc(25,"\n            "),i.Tb(26,"button",11),i.fc("click",(function(){return e.createShareLink()})),i.Ob(27,"i",12),i.Kc(28,"\n            "),i.Sb(),i.Kc(29,"\n          "),i.Sb(),i.Kc(30,"\n          "),i.Ic(31,T,6,5,"li",13),i.Kc(32,"\n          "),i.Ic(33,y,6,0,"li",14),i.Kc(34,"\n          "),i.Tb(35,"li",15),i.Kc(36,"\n            "),i.Tb(37,"button",16),i.fc("click",(function(){return e.addToResult()})),i.Ob(38,"i",17),i.Kc(39,"\n            "),i.Sb(),i.Kc(40,"\n          "),i.Sb(),i.Kc(41,"\n          "),i.Tb(42,"li",18),i.Kc(43,"\n            "),i.Tb(44,"button",19),i.fc("click",(function(){return e.simulateTradeup()})),i.Ob(45,"i",20),i.Kc(46,"\n            "),i.Sb(),i.Kc(47,"\n          "),i.Sb(),i.Kc(48,"\n          "),i.Tb(49,"li",18),i.Kc(50,"\n            "),i.Tb(51,"button",19),i.fc("click",(function(){return e.downloadCSV()})),i.Ob(52,"i",21),i.Kc(53,"\n            "),i.Sb(),i.Kc(54,"\n          "),i.Sb(),i.Kc(55,"\n          "),i.Tb(56,"li",22),i.Kc(57,"\n            "),i.Tb(58,"button",23),i.fc("click",(function(){return e.clearTradeup()})),i.Ob(59,"i",24),i.Kc(60,"\n            "),i.Sb(),i.Kc(61,"\n          "),i.Sb(),i.Kc(62,"\n        "),i.Sb(),i.Kc(63,"\n      "),i.Sb(),i.Kc(64,"\n    "),i.Sb(),i.Kc(65,"\n  "),i.Sb(),i.Kc(66,"\n"),i.Sb(),i.Kc(67,"\n\n"),i.Ic(68,k,106,11,"ng-template",null,25,i.Jc),i.Kc(70,"\n"),i.Ic(71,I,1,0,"ng-template",null,26,i.Jc),i.Kc(73,"\n\n\n"),i.Ic(74,C,13,2,"ng-template",null,27,i.Jc)),2&t){const t=i.yc(75);i.pc("ngIf",e.isLoading),i.zb(17),i.pc("ngbTooltip",10!==e.emtpySlotAmount?"Overview trade up in grid view":"Add items to calculator in order to overview this trade up"),i.zb(2),i.pc("disabled",10===e.emtpySlotAmount),i.zb(5),i.pc("ngbTooltip",10!==e.emtpySlotAmount?"Share trade up":"Add items to calculator in order to share this trade up"),i.zb(2),i.pc("disabled",10===e.emtpySlotAmount)("ngbPopover",t)("autoClose","outside"),i.zb(5),i.pc("ngIf",!e.isLoading),i.zb(2),i.pc("ngIf",e.isLoading),i.zb(9),i.pc("ngbTooltip",e.summary?"Simulate trade up":"Complete trade up to perform simulation"),i.zb(2),i.pc("disabled",!e.summary),i.zb(5),i.pc("ngbTooltip",10!==e.emtpySlotAmount?"Download input items as .CSV file":"Add items to trade up in order to download .CSV file"),i.zb(2),i.pc("disabled",10===e.emtpySlotAmount)}},directives:[c.o,K.z,K.v,K.x,o.A,o.p,o.k,o.a,o.o,o.i,o.v,o.c,o.t,f.a],styles:[""]}),e})()}).call(this,n("ZF6G"))},ZF6G:function(t,e,n){t.exports=n.p+"Filler search-es2015.b3f5e3802151cf8ed1c4.worker.js"},kU1y:function(t,e,n){"use strict";n.r(e),n.d(e,"TradeupCalculatorModule",(function(){return an}));var c=n("ofXK"),i=n("3Pt+"),o=n("1kSV"),a=n("ZOsW"),r=n("5eHb"),s=n("SYYg"),l=n("rBYe"),b=n("l6C6"),u=n("38Aq"),m=n("jPps"),d=n("NnSN"),p=n("bfiN"),g=n("tyNb"),h=n("PXna"),K=n("LvDl"),f=n("quSY"),S=n("itXk"),v=n("eIep"),T=n("JX91"),y=n("zP0r"),k=n("Kj3r"),I=n("c+xd"),C=n("fXoL"),O=n("Nm8O");let w=(()=>{class t{constructor(t,e){this.jwtHelper=t,this.tokenService=e}isAuthenticated(){const t=this.tokenService.getToken();return t&&!this.jwtHelper.isTokenExpired(t)}}return t.\u0275fac=function(e){return new(e||t)(C.bc(O.b),C.bc(I.a))},t.\u0275prov=C.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=n("kx6C"),z=n("Y7aL"),P=n("JbkY"),F=n("kYCs"),M=n("AfXL"),_=n("Qvw5"),B=n("XNiG"),N=n("/uUt"),A=n("nYR2"),D=n("UXun"),V=n("cAsB"),j=n("WHp9");function E(t,e){if(1&t&&(C.Kc(0,"\n                                "),C.Tb(1,"div",46),C.Kc(2,"\n                                  "),C.Ob(3,"img",47),C.Kc(4,"\n                                "),C.Sb(),C.Kc(5,"\n                                "),C.Tb(6,"div"),C.Kc(7),C.Sb(),C.Kc(8,"\n                              ")),2&t){const t=C.hc().$implicit;C.zb(3),C.pc("src",t.imageurl||"assets/unknown.png",C.Dc),C.Ab("alt",t.full_item_name),C.zb(3),C.Cb("text-center text-rarity-",t.rarity,""),C.zb(1),C.Mc("\n                                  ",t.rarity_name,"\n                                ")}}function L(t,e){1&t&&(C.Tb(0,"span",48),C.Kc(1,"STATTRAK"),C.Sb())}const R=function(t){return{"background-image":t}},W=function(t){return{"width.%":t}},$=function(t){return{itemName:t}};function U(t,e){if(1&t){const t=C.Ub();C.Tb(0,"tr"),C.Kc(1,"\n                            "),C.Tb(2,"td",34),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(3).selectSkinFromInventory(n)})),C.Kc(3,"\n                              "),C.Ob(4,"div",35),C.Kc(5,"\n                              "),C.Ic(6,E,9,6,"ng-template",null,36,C.Jc),C.Kc(8,"\n                            "),C.Sb(),C.Kc(9,"\n                            "),C.Tb(10,"td",37),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(3).selectSkinFromInventory(n)})),C.Kc(11,"\n                              "),C.Tb(12,"div"),C.Kc(13),C.Ic(14,L,2,0,"span",38),C.Kc(15,"\n                              "),C.Sb(),C.Kc(16,"\n                            "),C.Sb(),C.Kc(17,"\n                            "),C.Tb(18,"td",39),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(3).selectSkinFromInventory(n)})),C.Kc(19,"\n                              "),C.Tb(20,"div",40),C.Kc(21),C.ic(22,"number"),C.Sb(),C.Kc(23,"\n                              "),C.Tb(24,"div",41),C.Kc(25,"\n                                "),C.Tb(26,"div",42),C.Kc(27,"\n                                  \xa0\n                                "),C.Sb(),C.Kc(28,"\n                                "),C.Tb(29,"div",43),C.Kc(30,"\n                                  \xa0\n                                "),C.Sb(),C.Kc(31,"\n                              "),C.Sb(),C.Kc(32,"\n                              "),C.Tb(33,"div",40),C.Kc(34),C.Sb(),C.Kc(35,"\n                            "),C.Sb(),C.Kc(36,"\n                            "),C.Tb(37,"td",44),C.Kc(38,"\n                              "),C.Rb(39,45),C.Kc(40,"\n                              "),C.Qb(),C.Kc(41,"\n                            "),C.Sb(),C.Kc(42,"\n                          "),C.Sb()}if(2&t){const t=e.$implicit,n=C.yc(7);C.hc(3);const c=C.yc(72);C.Eb("selected",t.selected),C.zb(4),C.pc("ngStyle",C.tc(18,R,"url("+t.imageurl||!1))("ngbPopover",n)("popoverTitle",t.full_item_name),C.zb(9),C.Nc("\n                                ",t.weapon_type," | ",t.item_name,"\n                                "),C.zb(1),C.pc("ngIf",9===t.quality),C.zb(7),C.Mc("\n                                ",C.kc(22,15,t.floatvalue,"1.7-7"),"\n                              "),C.zb(3),C.pc("ngbTooltip","Float cap: "+t.min+" - "+t.max),C.zb(2),C.pc("ngStyle",C.tc(20,W,100*t.min)),C.zb(3),C.pc("ngStyle",C.tc(22,W,100*t.max)),C.zb(5),C.Mc("\n                                ",t.wear_name,"\n                              "),C.zb(5),C.pc("ngTemplateOutlet",c)("ngTemplateOutletContext",C.tc(24,$,t.full_item_name))}}function H(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                "),C.Tb(2,"virtual-scroller",26,27),C.Kc(4,"\n                  "),C.Tb(5,"div",28),C.Kc(6,"\n                    "),C.Tb(7,"div",29),C.Kc(8,"\n                      "),C.Tb(9,"table",30),C.Kc(10,"\n                        "),C.Tb(11,"thead"),C.Kc(12,"\n                          "),C.Tb(13,"tr"),C.Kc(14,"\n                            "),C.Ob(15,"th"),C.Kc(16,"\n                            "),C.Tb(17,"th",31),C.Kc(18,"Skin"),C.Sb(),C.Kc(19,"\n                            "),C.Tb(20,"th"),C.Kc(21,"Float"),C.Sb(),C.Kc(22,"\n                            "),C.Ob(23,"th"),C.Kc(24,"\n                          "),C.Sb(),C.Kc(25,"\n                        "),C.Sb(),C.Kc(26,"\n                        "),C.Tb(27,"tbody",null,32),C.Kc(29,"\n                          "),C.Ic(30,U,43,26,"tr",33),C.Kc(31,"\n                        "),C.Sb(),C.Kc(32,"\n                      "),C.Sb(),C.Kc(33,"\n                    "),C.Sb(),C.Kc(34,"\n                  "),C.Sb(),C.Kc(35,"\n                "),C.Sb(),C.Kc(36,"\n              "),C.Qb()),2&t){const t=C.yc(3),e=C.hc(2);C.zb(2),C.pc("items",e.inventorySkinsForDisplay)("bufferAmount",1),C.zb(28),C.pc("ngForOf",t.viewPortItems)}}function Q(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n              "),C.Ic(2,H,37,3,"ng-container",19),C.Kc(3,"\n            "),C.Qb()),2&t){const t=C.hc(),e=C.yc(75);C.zb(2),C.pc("ngIf",t.inventorySkinsForDisplay.length)("ngIfElse",e)}}function J(t,e){if(1&t&&(C.Kc(0,"\n  "),C.Tb(1,"a",49),C.Ob(2,"i",50),C.Sb(),C.Kc(3,"\n")),2&t){const t=e.itemName,n=C.hc();C.zb(1),C.Ab("href","https://steamcommunity.com/market/search?q="+(n.stattrak?"StatTrak\u2122 ":"")+t,C.Dc)}}function Y(t,e){1&t&&(C.Kc(0,"\n  "),C.Tb(1,"div",51),C.Kc(2,"\n    No items for display\n  "),C.Sb(),C.Kc(3,"\n"))}function q(t,e){1&t&&(C.Kc(0,"\n  "),C.Tb(1,"div",52),C.Kc(2,"\n    "),C.Tb(3,"div",53),C.Kc(4,"\n      "),C.Ob(5,"div",54),C.Kc(6,"\n    "),C.Sb(),C.Kc(7,"\n  "),C.Sb(),C.Kc(8,"\n"))}const G=function(t){return{"text-shake text-danger":t}};let X=(()=>{class t{constructor(t,e,n){this.activeModal=t,this.cdr=e,this.inventoryService=n,this.itemsForSelect=[],this.collectionsForDisplay=[],this.inventoryLoading=!0,this.inventorySkinsForDisplay=[],this.selectedSorting=new j.c,this.selectedItems=[],this.showShakeAnimation=!1,this.storedInventoryItems=[],this.searchSubject=new B.a,this.searchSubjectSubscription=f.a.EMPTY,this.selectedSorting.inventory.option="floatValue"}ngOnInit(){this.amountOfFreeSlotsInCalculator=10-this.itemsInCalculator.filter(t=>{var e;return null===(e=null==t?void 0:t.inputItem)||void 0===e?void 0:e.name}).length,this.searchSubjectSubscription=this.searchSubject.pipe(Object(k.a)(300),Object(N.a)()).subscribe(t=>{this.filterInventoryItemsBySearchValue(t)}),this.inventoryService.getInventory().pipe(Object(A.a)(()=>{this.inventoryLoading=!1,this.cdr.markForCheck()}),Object(D.a)(1)).subscribe(t=>{this.storedInventoryItems=Object(M.f)(t,[...this.getSkinsForDisplay()],this.itemsInCalculator,{rarity:this.rarity,stattrak:this.stattrak}),this.inventorySkinsForDisplay=JSON.parse(JSON.stringify(this.storedInventoryItems)),this.inventoryLoading=!1,this.sortSkinsByStoredValue(!0)})}ngOnDestroy(){this.searchSubjectSubscription.unsubscribe()}selectSkinFromInventory(t){const e=`${t.weapon_type} | ${t.item_name}`,n=this.itemsForSelect.find(t=>t.name===e);let c=-1;t.floatid&&(c=this.selectedItems.findIndex(e=>e.inventoryItemId===t.floatid)),n&&(-1===c?this.selectSkin(n,t):(t.selected=!1,this.deSelectSkin(c)))}search(t=""){this.searchSubject.next(t)}addItems(){console.log("Close and pass selected items"),this.activeModal.close(this.selectedItems)}sortCollectionsByOutcomes(t="asc"){"asc"===t?(this.collectionsForDisplay=this.collectionsForDisplay.sort((t,e)=>t.outcomes.length-e.outcomes.length),this.selectedSorting.collections.direction="asc"):(this.collectionsForDisplay=this.collectionsForDisplay.sort((t,e)=>e.outcomes.length-t.outcomes.length),this.selectedSorting.collections.direction="desc"),this.selectedSorting.collections.option="outcomes",this.cdr.markForCheck()}sortSkinsByOption(t){switch(t){case 5:this.inventorySkinsForDisplay=this.inventorySkinsForDisplay.sort((t,e)=>t.floatvalue-e.floatvalue),this.storeSkinSortingOption({option:"floatValue",direction:"asc"},!0);break;case 6:this.inventorySkinsForDisplay=this.inventorySkinsForDisplay.sort((t,e)=>e.floatvalue-t.floatvalue),this.storeSkinSortingOption({option:"floatValue",direction:"desc"},!0)}this.cdr.markForCheck()}selectSkin(t,e){var n;if(this.selectedItems.length===this.amountOfFreeSlotsInCalculator)return this.showShakeAnimation=!0,void setTimeout(()=>{this.showShakeAnimation=!1,this.cdr.markForCheck()},300);this.showShakeAnimation=!1,this.cdr.markForCheck();const c=e.floatvalue,i=Object(M.e)(e.floatvalue),o=Object(M.g)(t,e.floatvalue,this.stattrak);this.selectedItems.push({inputItem:t,price:o,float:c,floatIndex:i,inventoryItemId:null!==(n=null==e?void 0:e.floatid)&&void 0!==n?n:null}),e.selected=!0,this.cdr.markForCheck()}deSelectSkin(t){this.selectedItems.splice(t,1),this.showShakeAnimation=!1,this.cdr.markForCheck()}storeSkinSortingOption(t,e){e?this.selectedSorting.inventory=t:this.selectedSorting.skins=t}sortSkinsByStoredValue(t){const e=this.selectedSorting[t?"inventory":"skins"],n="asc"===e.direction;switch(e.option){case"floatCap":this.sortSkinsByOption(n?1:2);break;case"name":this.sortSkinsByOption(3);break;case"collection":this.sortSkinsByOption(4);break;case"floatValue":this.sortSkinsByOption(n?5:6)}}filterInventoryItemsBySearchValue(t){this.inventorySkinsForDisplay=this.storedInventoryItems.filter(e=>e.full_item_name.toLowerCase().includes(t.toLowerCase())).filter(t=>!this.stattrak||Boolean(t.stattrak)===this.stattrak),this.sortSkinsByStoredValue(!0),this.cdr.markForCheck()}getSkinsForDisplay(){return this.itemsForSelect.filter(t=>!this.stattrak||Boolean(t.stattrak)===this.stattrak)}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(o.c),C.Nb(C.h),C.Nb(V.a))},t.\u0275cmp=C.Hb({type:t,selectors:[["app-calculator-add-multiple-inventory-modal"]],decls:80,vars:12,consts:[["id","add-collection-item","ngNoForm",""],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","pt-0"],[1,"row","pt-4"],[1,"col-12"],[1,"card","sticky"],[1,"card-header"],[1,"card-title","d-none","d-sm-block"],[1,"card-options"],[1,"input-group"],["type","text","placeholder","Filter by skin name","name","inventorySearch",1,"form-control","form-control-sm",3,"input"],["ngbDropdown","","placement","bottom-right","container","body",1,"input-group-btn","ml-2","d-inline-block"],["type","button","ngbDropdownToggle","",1,"btn","btn-sm","btn-default"],[1,"fe","fe-filter"],["ngbDropdownMenu","","aria-labelledby","filter-dropdown"],["type","button","ngbDropdownItem","",3,"click"],[4,"ngIf","ngIfElse"],[1,"modal-footer","justify-content-md-between"],[1,"h4","m-0",3,"ngClass"],["type","button","aria-label","Add item",1,"btn","btn-primary",3,"disabled","click"],["linkToSteam",""],["noItemsTmpl",""],["loading",""],[1,"mt-3",3,"items","bufferAmount"],["scroll",""],[1,"card"],[1,"card-body"],[1,"table","card-table","table-striped","table-vcenter","input-item-table"],[1,"pl-0"],["container",""],[3,"selected",4,"ngFor","ngForOf"],[1,"text-center","position-relative","pl-2",3,"click"],["container","body","popoverClass","item-popover","triggers","mouseenter:mouseleave",1,"d-block","skin-image","position-relative",3,"ngStyle","ngbPopover","popoverTitle"],["itemPreviewTmplBody",""],[1,"p-0","position-relative","skin-name-container",3,"click"],["class","tag tag-orange",4,"ngIf"],[3,"click"],[1,"text-muted"],[1,"progress",3,"ngbTooltip"],[1,"progress-bar","bg-transparent",3,"ngStyle"],[1,"progress-bar","bg-warning",3,"ngStyle"],[1,"w-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-center","mx-auto"],[1,"preview-img",3,"src"],[1,"tag","tag-orange"],["target","_blank","rel","noopener noreferrer"],[1,"fab","fa-steam"],[1,"col-12","text-center","h3","mt-5"],[1,"row"],[1,"col-12","my-2"],[1,"loading-indicator","my-0","mx-auto"]],template:function(t,e){if(1&t&&(C.Tb(0,"form",0),C.Kc(1,"\n  "),C.Tb(2,"div",1),C.Kc(3,"\n    "),C.Tb(4,"div",2),C.Kc(5,"\n      "),C.Tb(6,"h5",3),C.Kc(7,"Add items to trade up from your inventory"),C.Sb(),C.Kc(8,"\n      "),C.Tb(9,"button",4),C.fc("click",(function(){return e.activeModal.dismiss()})),C.Sb(),C.Kc(10,"\n    "),C.Sb(),C.Kc(11,"\n    "),C.Tb(12,"div",5),C.Kc(13,"\n      "),C.Tb(14,"div",6),C.Kc(15,"\n        "),C.Tb(16,"div",7),C.Kc(17,"\n          "),C.Tb(18,"div"),C.Kc(19,"\n            "),C.Tb(20,"div",8),C.Kc(21,"\n              "),C.Tb(22,"div",9),C.Kc(23,"\n                "),C.Tb(24,"h3",10),C.Kc(25,"Filter skins"),C.Sb(),C.Kc(26,"\n                "),C.Tb(27,"div",11),C.Kc(28,"\n                  "),C.Tb(29,"div",12),C.Kc(30,"\n                    "),C.Tb(31,"input",13),C.fc("input",(function(t){return e.search(t.target.value)})),C.Sb(),C.Kc(32,"\n                    "),C.Tb(33,"span",14),C.Kc(34,"\n                      "),C.Tb(35,"button",15),C.Kc(36,"\n                        "),C.Ob(37,"span",16),C.Kc(38,"\n                      "),C.Sb(),C.Kc(39,"\n                      "),C.Tb(40,"div",17),C.Kc(41,"\n                        "),C.Tb(42,"button",18),C.fc("click",(function(){return e.sortSkinsByOption(5)})),C.Kc(43,"\n                          By lowest float\n                        "),C.Sb(),C.Kc(44,"\n                        "),C.Tb(45,"button",18),C.fc("click",(function(){return e.sortSkinsByOption(6)})),C.Kc(46,"\n                          By highest float\n                        "),C.Sb(),C.Kc(47,"\n                      "),C.Sb(),C.Kc(48,"\n                    "),C.Sb(),C.Kc(49,"\n                  "),C.Sb(),C.Kc(50,"\n                "),C.Sb(),C.Kc(51,"\n              "),C.Sb(),C.Kc(52,"\n            "),C.Sb(),C.Kc(53,"\n            "),C.Ic(54,Q,4,2,"ng-container",19),C.Kc(55,"\n          "),C.Sb(),C.Kc(56,"\n        "),C.Sb(),C.Kc(57,"\n      "),C.Sb(),C.Kc(58,"\n    "),C.Sb(),C.Kc(59,"\n    "),C.Tb(60,"div",20),C.Kc(61,"\n      "),C.Tb(62,"div",21),C.Kc(63),C.Sb(),C.Kc(64,"\n      "),C.Tb(65,"button",22),C.fc("click",(function(){return e.addItems()})),C.Kc(66,"\n        Add item\n      "),C.Sb(),C.Kc(67,"\n    "),C.Sb(),C.Kc(68,"\n  "),C.Sb(),C.Kc(69,"\n"),C.Sb(),C.Kc(70,"\n\n"),C.Ic(71,J,4,1,"ng-template",null,23,C.Jc),C.Kc(73,"\n\n"),C.Ic(74,Y,4,0,"ng-template",null,24,C.Jc),C.Kc(76,"\n\n"),C.Ic(77,q,9,0,"ng-template",null,25,C.Jc),C.Kc(79,"\n")),2&t){const t=C.yc(78);C.zb(42),C.Eb("active","asc"===e.selectedSorting.inventory.direction),C.zb(3),C.Eb("active","desc"===e.selectedSorting.inventory.direction),C.zb(9),C.pc("ngIf",!e.inventoryLoading)("ngIfElse",t),C.zb(8),C.pc("ngClass",C.tc(10,G,e.showShakeAnimation)),C.zb(1),C.Nc("\n        Selected: ",e.selectedItems.length,"/",e.amountOfFreeSlotsInCalculator,"\n      "),C.zb(2),C.pc("disabled",!e.selectedItems.length)}},directives:[o.d,o.i,o.g,o.f,c.o,c.m,s.a,c.n,c.p,o.v,o.z,c.t],pipes:[c.g],styles:["#add-collection-item[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{width:5rem;height:5rem}#add-collection-item[_ngcontent-%COMP%]   .input-item-table[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background-color:#bfd3ef;border-left:2px solid #467fcf}#add-collection-item[_ngcontent-%COMP%]   .input-item-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}#add-collection-item[_ngcontent-%COMP%]   td.skin-name-container[_ngcontent-%COMP%]{z-index:1}#add-collection-item[_ngcontent-%COMP%]   td.skin-name-container[_ngcontent-%COMP%]   .collection-bg[_ngcontent-%COMP%]{top:0;left:0;position:absolute;background-repeat:no-repeat;background-size:30%;opacity:.1;width:100%;height:100%;background-position:100%;z-index:-1}#add-collection-item[_ngcontent-%COMP%]   .card-options[_ngcontent-%COMP%]{width:65%}@media screen and (max-width:576px){#add-collection-item[_ngcontent-%COMP%]   .card-options[_ngcontent-%COMP%]{width:100%}}#add-collection-item[_ngcontent-%COMP%]   virtual-scroller[_ngcontent-%COMP%]{width:100%;height:650px}#add-collection-item[_ngcontent-%COMP%]   .sticky[_ngcontent-%COMP%]{z-index:10;position:-webkit-sticky;position:sticky;top:0;left:0;right:0}#add-collection-item[_ngcontent-%COMP%]   .progress-sm[_ngcontent-%COMP%]{height:.3rem}@media screen and (max-width:992px){#add-collection-item[_ngcontent-%COMP%]   .info-head-container[_ngcontent-%COMP%]{max-height:100%}}#add-collection-item[_ngcontent-%COMP%]   .collection-bg[_ngcontent-%COMP%]{top:10%;left:0;position:absolute;background-repeat:no-repeat;background-size:30%;opacity:.2;width:100%;height:100%;background-position:100% 0}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-header{position:relative;background-color:#45aaf2;color:#fff;transition:.3s ease}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-header:hover{background-color:#0e78c3}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-header .panel-header{cursor:pointer}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-header .panel-header .collection-img{width:auto;height:30px;position:absolute;left:5px;top:15px}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-body{padding:0}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-body .progress{height:.4rem}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-body .skin-image{max-width:60px;height:40px;background-size:cover;background-position:50%;background-repeat:no-repeat;z-index:1;transition:.3s ease}@media screen and (max-width:992px){#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-body .skin-image{display:none!important}}#add-collection-item[_ngcontent-%COMP%]     virtual-scroller .collection-img{width:auto;height:30px;position:absolute;left:5px;top:15px}#add-collection-item[_ngcontent-%COMP%]     virtual-scroller .card-body{padding:0}#add-collection-item[_ngcontent-%COMP%]     virtual-scroller .card-body .progress{height:.4rem}#add-collection-item[_ngcontent-%COMP%]     virtual-scroller .card-body .skin-image{max-width:60px;height:40px;background-size:cover;background-position:50%;background-repeat:no-repeat;z-index:1;transition:.3s ease}@media screen and (max-width:992px){#add-collection-item[_ngcontent-%COMP%]     virtual-scroller .card-body .skin-image{display:none!important}}#add-collection-item[_ngcontent-%COMP%]   .outcomes-title-card[_ngcontent-%COMP%]{border-radius:0;border-left:none;border-right:none}#add-collection-item[_ngcontent-%COMP%]   .outcomes-title-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{color:#6e7687;background-color:#adb5bd}"],changeDetection:0}),t})();var Z=n("WmrS"),tt=n("/iWH");function et(t,e){1&t&&(C.Tb(0,"div"),C.Kc(1,"\n          "),C.Tb(2,"span",21),C.Kc(3,"STATTRAK"),C.Sb(),C.Kc(4,"\n        "),C.Sb())}const nt=function(t,e,n){return{"alert-success":t,"alert-danger":e,"alert-warning":n}};function ct(t,e){if(1&t&&(C.Tb(0,"div"),C.Kc(1,"\n        "),C.Tb(2,"div",22),C.Kc(3,"\n          Success odds: "),C.Tb(4,"b"),C.Kc(5),C.ic(6,"percent"),C.Sb(),C.Sb(),C.Kc(7,"\n      "),C.Sb()),2&t){const t=e.ngIf;C.zb(2),C.pc("ngClass",C.vc(4,nt,t>=.7,t<=.4,t<.7&&t>.4)),C.zb(3),C.Lc(C.jc(6,2,t))}}let it=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C.Hb({type:t,selectors:[["app-tradeup-calculator-summary"]],inputs:{tradeupSummary:"tradeupSummary",tradeupSettings:"tradeupSettings"},decls:114,vars:60,consts:[[1,"preview"],[1,"card","best-outcome","p-0"],[1,"card-status",3,"ngClass"],[1,"card-body","text-center"],[1,"card-category"],[4,"ngIf"],[3,"ngClass"],[1,"text-muted","outcome-float"],[1,"position-relative"],[1,"collection-bg"],[1,"preview-img",3,"src"],[1,"list-unstyled","best-outcome-data"],[1,"d-flex","justify-content-between"],["placement","top",1,"h3","mb-0","text-primary",3,"ngbTooltip"],[1,"h3","mb-0","text-pink"],[1,"divider","mb-3"],["placement","top","ngbTooltip","Profit that you will receive after selling this item for its price (Without Steam TAX, 13%). Formula: Expected Value - Cost",1,"h4","d-inline-block"],[1,"text-secondary"],[1,"h5"],[1,"h4"],[1,"h6"],[1,"tag","tag-orange"],[1,"alert","m-0","success-odds",3,"ngClass"]],template:function(t,e){1&t&&(C.Tb(0,"div",0),C.Kc(1,"\n  "),C.Tb(2,"div",1),C.Kc(3,"\n    "),C.Tb(4,"div",2),C.Kc(5,"\n    "),C.Sb(),C.Kc(6,"\n    "),C.Tb(7,"div",3),C.Kc(8,"\n      "),C.Tb(9,"div",4),C.Kc(10,"\n        "),C.Ic(11,et,5,0,"div",5),C.Kc(12,"\n        "),C.Tb(13,"div"),C.Kc(14),C.Sb(),C.Kc(15,"\n        "),C.Tb(16,"div",6),C.Kc(17),C.Sb(),C.Kc(18,"\n        "),C.Tb(19,"div",7),C.Kc(20),C.ic(21,"floatToCondition"),C.ic(22,"number"),C.Sb(),C.Kc(23,"\n      "),C.Sb(),C.Kc(24,"\n      "),C.Tb(25,"div",8),C.Kc(26,"\n        "),C.Tb(27,"div",9),C.Kc(28,"\n        "),C.Sb(),C.Kc(29,"\n        "),C.Ob(30,"img",10),C.Kc(31,"\n      "),C.Sb(),C.Kc(32,"\n      "),C.Tb(33,"ul",11),C.Kc(34,"\n        "),C.Tb(35,"li",12),C.Kc(36,"\n          "),C.Tb(37,"strong",13),C.Kc(38),C.ic(39,"currency"),C.Sb(),C.Kc(40,"\n          "),C.Tb(41,"strong",14),C.Kc(42),C.ic(43,"percent"),C.Sb(),C.Kc(44,"\n        "),C.Sb(),C.Kc(45,"\n        "),C.Tb(46,"li"),C.Kc(47,"\n          "),C.Ob(48,"hr",15),C.Kc(49,"\n        "),C.Sb(),C.Kc(50,"\n        "),C.Tb(51,"li"),C.Kc(52,"\n          "),C.Tb(53,"div",16),C.Kc(54,"\n            Profit: "),C.Tb(55,"b",6),C.Kc(56),C.ic(57,"currency"),C.Tb(58,"small",17),C.Kc(59),C.ic(60,"percent"),C.Sb(),C.Sb(),C.Kc(61,"\n          "),C.Sb(),C.Kc(62,"\n        "),C.Sb(),C.Kc(63,"\n        "),C.Tb(64,"li"),C.Kc(65,"\n          "),C.Tb(66,"div",18),C.Kc(67,"Trade up cost: "),C.Tb(68,"b"),C.Kc(69),C.ic(70,"currency"),C.Sb(),C.Kc(71,"\n          "),C.Sb(),C.Kc(72,"\n        "),C.Sb(),C.Kc(73,"\n        "),C.Tb(74,"li"),C.Kc(75,"\n          "),C.Tb(76,"div",18),C.Kc(77,"Expected value: "),C.Tb(78,"b"),C.Kc(79),C.ic(80,"currency"),C.Sb(),C.Kc(81,"\n          "),C.Sb(),C.Kc(82,"\n        "),C.Sb(),C.Kc(83,"\n        "),C.Tb(84,"li"),C.Kc(85,"\n          "),C.Ob(86,"hr",15),C.Kc(87,"\n        "),C.Sb(),C.Kc(88,"\n        "),C.Tb(89,"li"),C.Kc(90,"\n          "),C.Tb(91,"div",19),C.Kc(92,"\n            Odds below cost: "),C.Tb(93,"b"),C.Kc(94),C.ic(95,"percent"),C.Sb(),C.Kc(96,"\n          "),C.Sb(),C.Kc(97,"\n        "),C.Sb(),C.Kc(98,"\n        "),C.Tb(99,"li"),C.Kc(100,"\n          "),C.Tb(101,"div",20),C.Kc(102,"Items below cost: "),C.Tb(103,"b"),C.Kc(104),C.ic(105,"percent"),C.Sb(),C.Kc(106,"\n          "),C.Sb(),C.Kc(107,"\n        "),C.Sb(),C.Kc(108,"\n      "),C.Sb(),C.Kc(109,"\n      "),C.Ic(110,ct,8,8,"div",5),C.Kc(111,"\n    "),C.Sb(),C.Kc(112,"\n  "),C.Sb(),C.Kc(113,"\n"),C.Sb()),2&t&&(C.zb(4),C.pc("ngClass","bg-rarity-"+e.tradeupSummary.mostExpensivePrizeItem.rarity.value),C.zb(7),C.pc("ngIf",e.tradeupSettings.stattrak),C.zb(3),C.Mc("\n          ",e.tradeupSummary.mostExpensivePrizeItem.name,"\n        "),C.zb(2),C.pc("ngClass","text-rarity-"+e.tradeupSummary.mostExpensivePrizeItem.rarity.value),C.zb(1),C.Mc("\n          ",e.tradeupSummary.mostExpensivePrizeItem.rarity.name,"\n        "),C.zb(3),C.Mc("\n          ",C.jc(21,24,C.kc(22,26,e.tradeupSummary.mostExpensiveFloat,"1.7-7")),"\n        "),C.zb(7),C.Hc("background-image","url(assets/img/"+e.tradeupSummary.mostExpensivePrizeItem.collection.key+".png)",C.Gb),C.zb(3),C.pc("src",e.tradeupSummary.mostExpensivePrizeItem.image||"assets/unknown.png",C.Dc),C.zb(7),C.pc("ngbTooltip","Without"),C.zb(1),C.Mc("\n            ",C.mc(39,29,e.tradeupSummary.mostExpensivePrize,"USD","symbol","1.2-2"),"\n          "),C.zb(4),C.Mc("\n            ",C.kc(43,34,e.tradeupSummary.mostExpensiveOdds,"1.2-2"),"\n          "),C.zb(13),C.pc("ngClass",e.tradeupSummary.profit>0?"text-success":"text-danger"),C.zb(1),C.Mc("",C.mc(57,37,e.tradeupSummary.profit,"USD","symbol","1.2-2"),"\n              "),C.zb(3),C.Mc("(",C.kc(60,42,e.tradeupSummary.profitPercentage,"1.2-2"),")"),C.zb(10),C.Lc(C.mc(70,45,e.tradeupSummary.cost,"USD","symbol","1.2-2")),C.zb(10),C.Lc(C.mc(80,50,e.tradeupSummary.expectedValue,"USD","symbol","1.2-2")),C.zb(14),C.Eb("text-success",e.tradeupSummary.outcomeSummary.oddsBelowCost<.02),C.zb(1),C.Lc(C.jc(95,55,e.tradeupSummary.outcomeSummary.oddsBelowCost)),C.zb(10),C.Oc("",e.tradeupSummary.outcomeSummary.outcomeItemCountBelowCost," /\n              ",e.tradeupSummary.outcomeSummary.outcomes.length,"\n              (",C.kc(105,57,e.tradeupSummary.outcomeSummary.outcomeItemCountBelowCost/e.tradeupSummary.outcomeSummary.outcomes.length,"1.2-2"),")"),C.zb(6),C.pc("ngIf",1-e.tradeupSummary.outcomeSummary.oddsBelowCost))},directives:[c.m,c.o,o.z],pipes:[tt.a,c.g,c.d,c.v],styles:[".preview-img[_ngcontent-%COMP%]{min-width:150px;width:150px;height:auto}.best-outcome[_ngcontent-%COMP%]   .outcome-float[_ngcontent-%COMP%]{font-size:12px}.card[_ngcontent-%COMP%]{margin-bottom:30px;padding:3em;line-height:1.5em}.collection-bg[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;background-position:50%;opacity:.4;width:50%;height:50%;position:absolute;max-height:150px}.preview[_ngcontent-%COMP%]{display:flex;flex-direction:column}.best-outcome-data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:left}.success-odds[_ngcontent-%COMP%]{font-size:20px}@media screen and (max-width:996px){.preview[_ngcontent-%COMP%]{margin-bottom:20px}}.preview-pic[_ngcontent-%COMP%]{flex-grow:1}.preview-pic[_ngcontent-%COMP%]   .st[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(209,127,4,.747);color:#000;padding:.3rem 1rem;text-transform:uppercase;font-weight:700}.preview-pic[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{left:0;background:#0b840b;padding:.5rem 1rem;color:#fff;font-size:24px}.preview-pic[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%], .preview-pic[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{position:absolute;bottom:0;border-radius:5px}.preview-pic[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{right:0;padding:.1rem .6rem;font-weight:700;font-size:20px}"]}),t})();function ot(t,e){1&t&&(C.Tb(0,"span",14),C.Kc(1,"STATTRAK"),C.Sb())}function at(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n      "),C.Tb(2,"h3",11),C.Kc(3,"Cost: "),C.Tb(4,"b",12),C.Kc(5),C.ic(6,"currency"),C.Sb(),C.Kc(7," |\n        Average float:\n        "),C.Tb(8,"span",12),C.Kc(9),C.ic(10,"number"),C.Sb(),C.Kc(11,"\n        "),C.Ic(12,ot,2,0,"span",13),C.Kc(13,"\n      "),C.Sb(),C.Kc(14,"\n    "),C.Qb()),2&t){const t=C.hc();C.zb(5),C.Lc(C.mc(6,3,t.tradeupSummary.cost,"USD","symbol","1.2-2")),C.zb(4),C.Lc(C.kc(10,8,t.tradeupSummary.averageFloat,"1.7-7")),C.zb(3),C.pc("ngIf",null==t.tradeupSettings?null:t.tradeupSettings.stattrak)}}const rt=function(t){return{"background-image":t}};function st(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n              "),C.Ob(2,"div"),C.Kc(3,"\n\n              "),C.Tb(4,"div",26),C.Kc(5,"\n              "),C.Sb(),C.Kc(6,"\n              "),C.Tb(7,"div",27),C.Kc(8,"\n                "),C.Tb(9,"h5",28),C.Kc(10),C.Sb(),C.Kc(11,"\n                "),C.Ob(12,"div",29),C.Kc(13,"\n                "),C.Tb(14,"div"),C.Kc(15,"\n                  "),C.Tb(16,"div"),C.Kc(17,"\n                    "),C.Tb(18,"div",30),C.Kc(19,"\n                      "),C.Tb(20,"div",31),C.Kc(21),C.ic(22,"number"),C.Tb(23,"small",32),C.Kc(24),C.ic(25,"floatToCondition"),C.Sb(),C.Kc(26,"\n                      "),C.Sb(),C.Kc(27,"\n                      "),C.Tb(28,"div",33),C.Kc(29,"\n                        "),C.Tb(30,"div",34),C.Kc(31),C.ic(32,"currency"),C.Sb(),C.Kc(33,"\n                      "),C.Sb(),C.Kc(34,"\n                    "),C.Sb(),C.Kc(35,"\n                    "),C.Tb(36,"div"),C.Kc(37,"\n                      "),C.Tb(38,"small",35),C.Kc(39),C.Sb(),C.Kc(40,"\n                    "),C.Sb(),C.Kc(41,"\n                  "),C.Sb(),C.Kc(42,"\n                "),C.Sb(),C.Kc(43,"\n              "),C.Sb(),C.Kc(44,"\n            "),C.Qb()),2&t){const t=C.hc().$implicit;C.zb(2),C.Cb("card-status bg-rarity-",t.value.inputItem.rarity.value,""),C.zb(2),C.pc("ngStyle",C.tc(23,rt,"url(assets/img/"+t.value.inputItem.collection.key+".png")),C.zb(5),C.pc("ngClass","text-rarity-"+t.value.inputItem.rarity.value),C.zb(1),C.Mc("\n                  ",t.value.inputItem.name,""),C.zb(2),C.pc("ngStyle",C.tc(25,rt,"url("+t.value.inputItem.image+")")),C.zb(9),C.Mc("\n                        ",C.kc(22,11,t.value.float,"1.7-7"),"\n                        "),C.zb(3),C.Lc(C.lc(25,14,t.value.float,"fullwithout",!0)),C.zb(7),C.Mc("\n                          ",C.mc(32,18,t.value.price,"USD","symbol","1.2-2"),"\n                        "),C.zb(8),C.Mc("\n                        ",t.value.inputItem.collection.name,"\n                      ")}}function lt(t,e){if(1&t&&(C.Tb(0,"div",25),C.Kc(1,"\n            "),C.Ic(2,st,45,27,"ng-container",2),C.Kc(3,"\n          "),C.Sb()),2&t){const t=e.$implicit;C.zb(2),C.pc("ngIf",t.value.inputItem)}}function bt(t,e){1&t&&(C.Tb(0,"span",42),C.Kc(1,"Best outcome"),C.Sb())}function ut(t,e){1&t&&(C.Tb(0,"span",43),C.Kc(1,"Worst outcome"),C.Sb())}function mt(t,e){if(1&t&&(C.Tb(0,"div",44),C.Kc(1,"\n                          "),C.Tb(2,"span",45),C.Kc(3),C.ic(4,"currency"),C.Sb(),C.Kc(5,"\n                        "),C.Sb()),2&t){const t=e.ngIf,n=C.hc(4);C.zb(2),C.pc("ngClass",t>=n.tradeupSummary.cost?"text-success":"text-danger"),C.zb(1),C.Lc(C.mc(4,2,t||0,"USD","symbol","1.2-2"))}}function dt(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n              "),C.Ob(2,"div"),C.Kc(3,"\n\n              "),C.Tb(4,"div",26),C.Kc(5,"\n              "),C.Sb(),C.Kc(6,"\n\n              "),C.Ic(7,bt,2,0,"span",37),C.Kc(8,"\n              "),C.Ic(9,ut,2,0,"span",38),C.Kc(10,"\n\n              "),C.Tb(11,"div",39),C.Kc(12,"\n                "),C.Tb(13,"h5",28),C.Kc(14),C.Sb(),C.Kc(15,"\n                "),C.Ob(16,"div",29),C.Kc(17,"\n                "),C.Tb(18,"div"),C.Kc(19,"\n                  "),C.Tb(20,"div"),C.Kc(21,"\n                    "),C.Tb(22,"div",30),C.Kc(23,"\n                      "),C.Tb(24,"div",31),C.Kc(25),C.ic(26,"number"),C.Tb(27,"small",32),C.Kc(28),C.ic(29,"floatToCondition"),C.Sb(),C.Kc(30,"\n                      "),C.Sb(),C.Kc(31,"\n                      "),C.Tb(32,"div",33),C.Kc(33,"\n                        "),C.Tb(34,"div",40),C.Kc(35),C.ic(36,"percent"),C.Sb(),C.Kc(37,"\n                        "),C.Ic(38,mt,6,7,"div",41),C.Kc(39,"\n                      "),C.Sb(),C.Kc(40,"\n                    "),C.Sb(),C.Kc(41,"\n                    "),C.Tb(42,"div"),C.Kc(43,"\n                      "),C.Tb(44,"small",35),C.Kc(45),C.Sb(),C.Kc(46,"\n                    "),C.Sb(),C.Kc(47,"\n                  "),C.Sb(),C.Kc(48,"\n                "),C.Sb(),C.Kc(49,"\n              "),C.Sb(),C.Kc(50,"\n            "),C.Qb()),2&t){const t=C.hc().$implicit,e=C.hc(2);C.zb(2),C.Cb("card-status bg-rarity-",t.item.rarity.value,""),C.zb(2),C.pc("ngStyle",C.tc(24,rt,"url(assets/img/"+t.item.collection.key+".png")),C.zb(3),C.pc("ngIf",t.item.name===e.tradeupSummary.mostExpensivePrizeItem.name),C.zb(2),C.pc("ngIf",t.item.name===e.tradeupSummary.cheapestPrizeItem.name),C.zb(4),C.pc("ngClass","text-rarity-"+t.item.rarity.value),C.zb(1),C.Mc("\n                  ",t.item.name,""),C.zb(2),C.pc("ngStyle",C.tc(26,rt,"url("+t.item.image+")")),C.zb(9),C.Mc("\n                        ",C.kc(26,14,t.float,"1.7-7"),"\n                        "),C.zb(3),C.Lc(C.lc(29,17,t.float,"fullwithout",!0)),C.zb(7),C.Mc("\n                          ",C.kc(36,21,t.odds,"1.2-2"),"\n                        "),C.zb(3),C.pc("ngIf",e.getSkinPrice(t.item,t.float)),C.zb(7),C.Mc("\n                        ",t.item.collection.name,"\n                      ")}}function pt(t,e){if(1&t&&(C.Tb(0,"div",36),C.Kc(1,"\n            "),C.Ic(2,dt,51,28,"ng-container",2),C.Kc(3,"\n          "),C.Sb()),2&t){const t=e.$implicit;C.zb(2),C.pc("ngIf",t.item)}}function gt(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n          "),C.Tb(2,"app-tradeup-calculator-summary",46),C.Kc(3,"\n          "),C.Sb(),C.Kc(4,"\n        "),C.Qb()),2&t){const t=C.hc(2);C.zb(2),C.pc("tradeupSettings",t.tradeupSettings)("tradeupSummary",t.tradeupSummary)}}function ht(t,e){if(1&t&&(C.Tb(0,"div",15),C.Kc(1,"\n      "),C.Tb(2,"div",16),C.Kc(3,"\n        "),C.Tb(4,"div",17),C.Kc(5,"\n          "),C.Ic(6,lt,4,1,"div",18),C.Kc(7,"\n        "),C.Sb(),C.Kc(8,"\n\n        "),C.Tb(9,"h4",19),C.Kc(10,"INPUTS"),C.Sb(),C.Kc(11,"\n        "),C.Ob(12,"hr",20),C.Kc(13,"\n        "),C.Tb(14,"h4",21),C.Kc(15,"OUTCOMES"),C.Sb(),C.Kc(16,"\n\n        "),C.Tb(17,"div",22),C.Kc(18,"\n          "),C.Ic(19,pt,4,1,"div",23),C.Kc(20,"\n        "),C.Sb(),C.Kc(21,"\n      "),C.Sb(),C.Kc(22,"\n      "),C.Tb(23,"div",24),C.Kc(24,"\n        "),C.Ic(25,gt,5,2,"ng-container",2),C.Kc(26,"\n      "),C.Sb(),C.Kc(27,"\n    "),C.Sb()),2&t){const t=C.hc();C.zb(6),C.pc("ngForOf",t.inputItems),C.zb(13),C.pc("ngForOf",t.tradeupSummary.outcomeSummary.outcomes),C.zb(6),C.pc("ngIf",t.tradeupSummary)}}function Kt(t,e){1&t&&(C.Kc(0,"\n  "),C.Tb(1,"div",47),C.Kc(2,"\n    Please add all 10 input items in calculator to overview trade up.\n  "),C.Sb(),C.Kc(3,"\n"))}function ft(t,e){1&t&&(C.Kc(0,"\n  "),C.Tb(1,"div",48),C.Kc(2,"\n    "),C.Ob(3,"div",49),C.Kc(4,"\n  "),C.Sb(),C.Kc(5,"\n"))}let St=(()=>{class t{constructor(t){this.cdr=t,this.overviewClosed=new C.n}ngOnInit(){setTimeout(()=>{this.isShown=!0,this.cdr.markForCheck()},100),setTimeout(()=>{this.fullScreen=!0,this.cdr.markForCheck()},200)}closeOverview(){this.isShown=!1,this.fullScreen=!1,this.cdr.markForCheck(),setTimeout(()=>{this.overviewClosed.emit()},300)}getSkinPrice(t,e){var n,c;return Object(M.g)(t,e,null===(n=this.tradeupSettings)||void 0===n?void 0:n.stattrak,null===(c=this.tradeupSettings)||void 0===c?void 0:c.withoutSteamTax)}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(C.h))},t.\u0275cmp=C.Hb({type:t,selectors:[["app-tradeup-calculator-overview"]],inputs:{inputItems:"inputItems",tradeupSummary:"tradeupSummary",tradeupSettings:"tradeupSettings"},outputs:{overviewClosed:"overviewClosed"},decls:26,vars:7,consts:[[1,"floating-overview","card"],[1,"card-header"],[4,"ngIf"],[1,"card-options"],["href","javascript:;",1,"card-options-remove",3,"click"],[1,"fe","fe-x"],[1,"card-body"],[1,"logo-bg"],["class","row",4,"ngIf","ngIfElse"],["completeTradeupTmpl",""],["loadingTmpl",""],[1,"card-title","text-muted"],[1,"text-white"],["class","tag tag-orange ml-2",4,"ngIf"],[1,"tag","tag-orange","ml-2"],[1,"row"],[1,"order-lg-1","order-2","col-lg-9"],[1,"row","justify-content-center"],["class","col-lg-2 col-md-3 col-sm-6 col-12 card calculator-item-preview",4,"ngFor","ngForOf"],[1,"my-2","text-center","text-warning"],[1,"divider","bg-dark"],[1,"my-2","text-center","text-info"],[1,"row","justify-content-center","mt-2"],["class","col-lg-2 col-md-3 col-sm-6 col-12 card calculator-item-preview outcome",4,"ngFor","ngForOf"],[1,"order-lg-2","order-1","col-lg-3"],[1,"col-lg-2","col-md-3","col-sm-6","col-12","card","calculator-item-preview"],[1,"collection-img","mr-3",3,"ngStyle"],[1,"card-body","p-2","d-flex","flex-column"],[1,"my-2","text-center",3,"ngClass"],[1,"skin-img",3,"ngStyle"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","pt-0"],[1,"text-default","font-weight-bold"],[1,"d-block","text-muted"],[1,"ml-2"],[1,"price","d-block","text-success","font-weight-bold"],[1,"collection-name","text-center","d-block","w-100"],[1,"col-lg-2","col-md-3","col-sm-6","col-12","card","calculator-item-preview","outcome"],["class","tag tag-success outcome-tag",4,"ngIf"],["class","tag tag-danger outcome-tag",4,"ngIf"],[1,"card-body","mt-4","p-2","d-flex","flex-column"],[1,"text-right","text-info"],["class","price d-block font-weight-bold",4,"ngIf"],[1,"tag","tag-success","outcome-tag"],[1,"tag","tag-danger","outcome-tag"],[1,"price","d-block","font-weight-bold"],[3,"ngClass"],[3,"tradeupSettings","tradeupSummary"],[1,"h2","text-center","alert","alert-warning","mt-4","mx-auto","w-50"],[1,"w-100","text-center"],[1,"loading-indicator","searching-loader"]],template:function(t,e){if(1&t&&(C.Tb(0,"div",0),C.Kc(1,"\n  "),C.Tb(2,"div",1),C.Kc(3,"\n    "),C.Ic(4,at,15,11,"ng-container",2),C.Kc(5,"\n    "),C.Tb(6,"div",3),C.Kc(7,"\n      "),C.Tb(8,"a",4),C.fc("click",(function(){return e.closeOverview()})),C.Ob(9,"i",5),C.Sb(),C.Kc(10,"\n    "),C.Sb(),C.Kc(11,"\n  "),C.Sb(),C.Kc(12,"\n  "),C.Tb(13,"div",6),C.Kc(14,"\n    "),C.Ob(15,"div",7),C.Kc(16,"\n    "),C.Ic(17,ht,28,3,"div",8),C.Kc(18,"\n  "),C.Sb(),C.Kc(19,"\n"),C.Sb(),C.Kc(20,"\n\n"),C.Ic(21,Kt,4,0,"ng-template",null,9,C.Jc),C.Kc(23,"\n\n"),C.Ic(24,ft,6,0,"ng-template",null,10,C.Jc)),2&t){const t=C.yc(22);C.Eb("card-fullscreen",e.fullScreen)("isShown",e.isShown),C.zb(4),C.pc("ngIf",e.tradeupSummary&&e.tradeupSettings),C.zb(13),C.pc("ngIf",e.tradeupSummary&&e.tradeupSettings)("ngIfElse",t)}},directives:[c.o,c.n,c.p,c.m,it],pipes:[c.d,c.g,tt.a,c.v],styles:[".floating-overview[_ngcontent-%COMP%]{width:100%;transition:.3s ease;min-height:0;height:0;position:fixed;bottom:0;top:auto;margin-bottom:0;border-radius:0;z-index:500;overflow:auto}.floating-overview[_ngcontent-%COMP%]   .logo-bg[_ngcontent-%COMP%]{background:url(logo.b5ab01eace94064d4736.svg);background-repeat:no-repeat;background-position:50%;opacity:.05;width:100%;position:absolute;height:95%;top:0;left:0;right:0;bottom:0}.floating-overview[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%], .floating-overview[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#212529;color:#f8f9fa}.floating-overview.isShown[_ngcontent-%COMP%]{min-height:500px;transition:.3s ease}.floating-overview.card-fullscreen[_ngcontent-%COMP%]{min-height:100%;height:100%;top:auto}.floating-overview[_ngcontent-%COMP%]   .calculator-item-preview[_ngcontent-%COMP%]{max-height:250px;margin:.5rem}.floating-overview[_ngcontent-%COMP%]   .calculator-item-preview.outcome[_ngcontent-%COMP%]{max-height:250px}.floating-overview[_ngcontent-%COMP%]   .calculator-item-preview[_ngcontent-%COMP%]   .outcome-tag[_ngcontent-%COMP%]{position:absolute;left:-1px;top:2px;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:0}.floating-overview[_ngcontent-%COMP%]   .calculator-item-preview[_ngcontent-%COMP%]   .skin-img[_ngcontent-%COMP%]{background-size:contain;height:60px;min-height:60px;background-position:50%;background-repeat:no-repeat}.floating-overview[_ngcontent-%COMP%]   .calculator-item-preview[_ngcontent-%COMP%]   .collection-img[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:contain;position:absolute;height:60px;width:60px;top:2rem;right:0;opacity:.2}.floating-overview[_ngcontent-%COMP%]   .calculator-item-preview[_ngcontent-%COMP%]   .collection-name[_ngcontent-%COMP%]{font-size:11px}.floating-overview[_ngcontent-%COMP%]   .calculator-item-preview[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:21px}"],changeDetection:0}),t})();var vt=n("aY0t"),Tt=n("lJxs"),yt=n("jhN1");let kt=(()=>{class t{constructor(t){this.sanitizer=t}transform(t,e){if(e&&t){let n=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");n=n.split(" ").filter(t=>t.length>0).join("|");const c=new RegExp(n,"gi");return this.sanitizer.bypassSecurityTrustHtml(t.replace(c,t=>`<span class="search-highlight">${t}</span>`))}return t}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(yt.c))},t.\u0275pipe=C.Mb({name:"highlight",type:t,pure:!0}),t})();function It(t,e){if(1&t&&(C.Tb(0,"div",8),C.Kc(1),C.Sb()),2&t){const t=C.hc().result;C.zb(1),C.Mc("\n        ",t.collection.name,"\n      ")}}function Ct(t,e){if(1&t&&(C.Kc(0,"\n  "),C.Tb(1,"div",2),C.Kc(2,"\n    "),C.Tb(3,"div",3),C.Kc(4,"\n      "),C.Ob(5,"img",4),C.Kc(6,"\n    "),C.Sb(),C.Kc(7,"\n    "),C.Tb(8,"div",5),C.Kc(9,"\n      "),C.Tb(10,"div"),C.Kc(11,"\n        "),C.Ob(12,"span",6),C.ic(13,"highlight"),C.Kc(14,"\n      "),C.Sb(),C.Kc(15,"\n      "),C.Ic(16,It,2,1,"div",7),C.Kc(17,"\n\n    "),C.Sb(),C.Kc(18,"\n  "),C.Sb(),C.Kc(19,"\n")),2&t){const t=e.result,n=e.term,c=C.hc();C.zb(5),C.pc("src",t.image||"assets/unknown.png",C.Dc),C.zb(7),C.pc("innerHTML",C.kc(13,3,t.name,n),C.Cc),C.zb(4),C.pc("ngIf",c.showCollectionName)}}const Ot=function(t){return{height:t}};let wt=(()=>{class t{constructor(){this.displayLimit=10,this.tabIndex=0,this.skinSelected=new C.n,this.searchSkin=t=>t.pipe(Object(k.a)(200),Object(N.a)(),Object(Tt.a)(t=>t.length<2?[]:this.allSkins.filter(e=>e.name.replace("| ","").toLowerCase().replace(/[.]/g,"").indexOf(t.toLowerCase().replace(/[.]/g,""))>-1).slice(0,this.displayLimit))),this.formatter=t=>t.name}ngOnInit(){}selectInputItem(t){this.selectedSkinName=t.item.name,this.skinSelected.emit(t.item)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C.Hb({type:t,selectors:[["app-skin-select-autocomplete"]],inputs:{allSkins:"allSkins",simple:"simple",displayLimit:"displayLimit",inputHeightPx:"inputHeightPx",tabIndex:"tabIndex",showCollectionName:"showCollectionName"},outputs:{skinSelected:"skinSelected"},decls:4,vars:10,consts:[["resultTmpl",""],["type","text",1,"form-control",3,"tabIndex","ngStyle","inputFormatter","ngModel","ngbTypeahead","resultFormatter","resultTemplate","ngModelChange","selectItem"],[1,"w-100","row"],[1,"col-4","p-0"],["alt","","height","50",3,"src"],[1,"col-8","p-0","pl-2","info-container"],[1,"text-right",3,"innerHTML"],["class","text-muted",4,"ngIf"],[1,"text-muted"]],template:function(t,e){if(1&t&&(C.Ic(0,Ct,20,6,"ng-template",null,0,C.Jc),C.Kc(2,"\n\n"),C.Tb(3,"input",1),C.fc("ngModelChange",(function(t){return e.selectedSkinName=t}))("selectItem",(function(t){return e.selectInputItem(t)})),C.Sb()),2&t){const t=C.yc(1);C.zb(3),C.pc("tabIndex",e.tabIndex)("ngStyle",C.tc(8,Ot,e.inputHeightPx+"px"))("inputFormatter",e.formatter)("ngModel",e.selectedSkinName)("ngbTypeahead",e.searchSkin)("resultFormatter",e.formatter)("resultTemplate",e.simple?null:t),C.Ab("placeholder",e.allSkins.length+" items available")}},directives:[i.c,o.B,c.p,i.o,i.r,c.o],pipes:[kt],styles:[".info-container[_ngcontent-%COMP%]{white-space:normal}"],changeDetection:0}),t})();var xt=n("TyJT");function zt(t,e){if(1&t){const t=C.Ub();C.Tb(0,"app-skin-select-autocomplete",30),C.fc("skinSelected",(function(e){return C.Bc(t),C.hc().selectSkin(e)})),C.Kc(1,"\n            "),C.Sb()}if(2&t){const t=C.hc();C.pc("allSkins",t.itemsForSelect)("inputHeightPx",28)("showCollectionName",!0)}}function Pt(t,e){1&t&&(C.Kc(0,"\n              "),C.Tb(1,"div",31),C.Kc(2,"No items for select"),C.Sb(),C.Kc(3,"\n            "))}function Ft(t,e){if(1&t&&(C.Rb(0),C.Kc(1),C.ic(2,"floatToCondition"),C.ic(3,"number"),C.Qb()),2&t){const t=C.hc(2);C.zb(1),C.Mc("\n                        ",C.lc(2,1,C.kc(3,5,t.inputItemForm.get("float").value,"1.7-7"),"fullwithout",!0),"\n                      ")}}const Mt=function(t){return{"background-image":t}},_t=function(t){return{"width.%":t}};function Bt(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                "),C.Tb(2,"div",32),C.Kc(3,"\n                  "),C.Tb(4,"h4",33),C.Kc(5),C.Sb(),C.Kc(6,"\n                "),C.Sb(),C.Kc(7,"\n                "),C.Tb(8,"div",34),C.Kc(9,"\n                  "),C.Ob(10,"div",35),C.Kc(11,"\n                  "),C.Tb(12,"div",36),C.Kc(13,"\n                    "),C.Ob(14,"img",37),C.Kc(15,"\n                  "),C.Sb(),C.Kc(16,"\n                  "),C.Tb(17,"div",38),C.Kc(18,"\n                    "),C.Tb(19,"div",39),C.Kc(20),C.Sb(),C.Kc(21,"\n                    "),C.Tb(22,"div",40),C.Kc(23),C.Sb(),C.Kc(24,"\n                    "),C.Tb(25,"div",41),C.Kc(26,"\n                      "),C.Tb(27,"div",42),C.Kc(28),C.ic(29,"number"),C.ic(30,"number"),C.Sb(),C.Kc(31,"\n                      "),C.Tb(32,"div",43),C.Kc(33,"\n                        "),C.Tb(34,"div",44),C.Kc(35,"\n                          \xa0\n                        "),C.Sb(),C.Kc(36,"\n                        "),C.Tb(37,"div",45),C.Kc(38,"\n                          \xa0\n                        "),C.Sb(),C.Kc(39,"\n                      "),C.Sb(),C.Kc(40,"\n                    "),C.Sb(),C.Kc(41,"\n                  "),C.Sb(),C.Kc(42,"\n                "),C.Sb(),C.Kc(43,"\n                "),C.Tb(44,"div",46),C.Kc(45,"\n                  "),C.Tb(46,"div",47),C.Kc(47,"\n                    "),C.Tb(48,"label",48),C.Kc(49,"Float"),C.Sb(),C.Kc(50,"\n                    "),C.Tb(51,"div",49),C.Kc(52,"\n                      "),C.Ic(53,Ft,4,8,"ng-container",50),C.Kc(54,"\n                    "),C.Sb(),C.Kc(55,"\n                    "),C.Tb(56,"div",51),C.Kc(57,"\n                      "),C.Ob(58,"input",52),C.Kc(59,"\n                    "),C.Sb(),C.Kc(60,"\n                  "),C.Sb(),C.Kc(61,"\n                  "),C.Tb(62,"div",47),C.Kc(63,"\n                    "),C.Tb(64,"label",48),C.Kc(65,"Price"),C.Sb(),C.Kc(66,"\n                    "),C.Tb(67,"div",51),C.Kc(68,"\n                      "),C.Ob(69,"input",53),C.Kc(70,"\n                    "),C.Sb(),C.Kc(71,"\n                  "),C.Sb(),C.Kc(72,"\n                  "),C.Tb(73,"div"),C.Kc(74,"\n                    "),C.Tb(75,"app-skin-price-table",54),C.Kc(76,"\n                    "),C.Sb(),C.Kc(77,"\n                  "),C.Sb(),C.Kc(78,"\n                "),C.Sb(),C.Kc(79,"\n              "),C.Qb()),2&t){const t=C.hc();C.zb(5),C.Lc(t.selectedWeapon.name),C.zb(5),C.pc("ngStyle",C.tc(28,Mt,"url(assets/img/"+t.selectedWeapon.collection.key+".png)")),C.zb(4),C.pc("src",t.selectedWeapon.image||"assets/unknown.png",C.Dc),C.zb(5),C.pc("ngClass","text-rarity-"+t.selectedWeapon.rarity.value),C.zb(1),C.Mc("\n                      ",t.selectedWeapon.rarity.name,"\n                    "),C.zb(3),C.Mc("\n                      ",t.selectedWeapon.collection.name,"\n                    "),C.zb(5),C.Nc("\n                        ",C.kc(29,22,t.selectedWeapon.min,"1.2-2")," - ",C.kc(30,25,t.selectedWeapon.max,"1.2-2"),"\n                      "),C.zb(6),C.pc("ngStyle",C.tc(30,_t,100*t.selectedWeapon.min)),C.zb(3),C.pc("ngStyle",C.tc(32,_t,100*t.selectedWeapon.max)),C.zb(16),C.pc("ngIf",t.inputItemForm.get("float").value),C.zb(5),C.Eb("is-invalid",t.inputItemForm.get("float").invalid),C.pc("min",null==t.selectedWeapon?null:t.selectedWeapon.min)("max",null==t.selectedWeapon?null:t.selectedWeapon.max),C.zb(11),C.Eb("is-invalid",t.inputItemForm.get("price").invalid),C.zb(6),C.pc("item",t.selectedWeapon)("showNormalPrices",!t.stattrak)("showStattrakPrices",t.stattrak)("showHeader",!1)("highlightedIndex",t.floatIndex)}}function Nt(t,e){1&t&&(C.Kc(0,"\n                "),C.Tb(1,"div",34),C.Kc(2,"\n                  "),C.Tb(3,"div",55),C.Kc(4,"\n                    Click on skin from the list to select it\n                  "),C.Sb(),C.Kc(5,"\n                "),C.Sb(),C.Kc(6,"\n              "))}function At(t,e){if(1&t){const t=C.Ub();C.Kc(0,"\n                          "),C.Tb(1,"div",72),C.fc("click",(function(){C.Bc(t);const e=C.hc().index;return C.hc(),C.yc(3).toggle("collection-"+e)})),C.Kc(2,"\n                            "),C.Ob(3,"img",73),C.Kc(4,"\n                            "),C.Tb(5,"h5",74),C.Kc(6),C.Sb(),C.Kc(7,"\n                            "),C.Tb(8,"div"),C.Kc(9,"\n                              "),C.Tb(10,"b"),C.Kc(11),C.Sb(),C.Kc(12," outcomes\n                            "),C.Sb(),C.Kc(13,"\n                          "),C.Sb(),C.Kc(14,"\n                        ")}if(2&t){const t=C.hc().$implicit;C.zb(3),C.pc("src","assets/img/"+t.collection.skins[0].collection.key+".png",C.Dc),C.zb(3),C.Mc("\n                              ",t.collection.skins[0].collection.name,"\n                            "),C.zb(5),C.Lc(t.outcomes.length)}}function Dt(t,e){if(1&t&&(C.Kc(0,"\n                                    "),C.Tb(1,"div",90),C.Kc(2,"\n                                      "),C.Ob(3,"img",91),C.Kc(4,"\n                                    "),C.Sb(),C.Kc(5,"\n                                    "),C.Tb(6,"div"),C.Kc(7),C.Sb(),C.Kc(8,"\n                                    "),C.Tb(9,"div"),C.Kc(10,"\n                                      "),C.Tb(11,"app-skin-price-table",92),C.Kc(12,"\n                                      "),C.Sb(),C.Kc(13,"\n                                    "),C.Sb(),C.Kc(14,"\n                                  ")),2&t){const t=C.hc().$implicit,e=C.hc(5);C.zb(3),C.pc("src",t.image||"assets/unknown.png",C.Dc),C.Ab("alt",t.name),C.zb(3),C.Cb("text-center text-rarity-",t.rarity.value,""),C.zb(1),C.Mc("\n                                      ",t.rarity.name,"\n                                    "),C.zb(4),C.pc("item",t)("showHeader",!1)("showNormalPrices",!e.stattrak)("showStattrakPrices",e.stattrak)}}function Vt(t,e){1&t&&(C.Tb(0,"span",93),C.Kc(1,"STATTRAK"),C.Sb())}const jt=function(t){return{itemName:t}};function Et(t,e){if(1&t){const t=C.Ub();C.Tb(0,"tr"),C.Kc(1,"\n                                "),C.Tb(2,"td",81),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(5).selectSkin(n)})),C.Kc(3,"\n                                  "),C.Ob(4,"div",82),C.Kc(5,"\n                                  "),C.Ic(6,Dt,15,10,"ng-template",null,83,C.Jc),C.Kc(8,"\n                                "),C.Sb(),C.Kc(9,"\n                                "),C.Tb(10,"td",84),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(5).selectSkin(n)})),C.Kc(11,"\n                                  "),C.Tb(12,"div"),C.Kc(13),C.Ic(14,Vt,2,0,"span",85),C.Kc(15,"\n                                  "),C.Sb(),C.Kc(16,"\n                                "),C.Sb(),C.Kc(17,"\n                                "),C.Tb(18,"td",86),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(5).selectSkin(n)})),C.Kc(19,"\n                                  "),C.Tb(20,"div",42),C.Kc(21),C.ic(22,"number"),C.ic(23,"number"),C.Sb(),C.Kc(24,"\n                                  "),C.Tb(25,"div",87),C.Kc(26,"\n                                    "),C.Tb(27,"div",44),C.Kc(28,"\n                                      \xa0\n                                    "),C.Sb(),C.Kc(29,"\n                                    "),C.Tb(30,"div",45),C.Kc(31,"\n                                      \xa0\n                                    "),C.Sb(),C.Kc(32,"\n                                  "),C.Sb(),C.Kc(33,"\n                                "),C.Sb(),C.Kc(34,"\n                                "),C.Tb(35,"td",88),C.Kc(36,"\n                                  "),C.Rb(37,89),C.Kc(38,"\n                                  "),C.Qb(),C.Kc(39,"\n                                "),C.Sb(),C.Kc(40,"\n                              "),C.Sb()}if(2&t){const t=e.$implicit,n=C.yc(7),c=C.hc(5),i=C.yc(82);C.zb(4),C.pc("ngStyle",C.tc(17,Mt,"url("+t.image||!1))("ngbPopover",n)("popoverTitle",t.name),C.zb(9),C.Mc("\n                                    ",t.name,"\n                                    "),C.zb(1),C.pc("ngIf",c.stattrak),C.zb(7),C.Nc("\n                                    ",C.kc(22,11,t.min,"1.2-2")," - ",C.kc(23,14,t.max,"1.2-2"),"\n                                  "),C.zb(6),C.pc("ngStyle",C.tc(19,_t,100*t.min)),C.zb(3),C.pc("ngStyle",C.tc(21,_t,100*t.max)),C.zb(7),C.pc("ngTemplateOutlet",i)("ngTemplateOutletContext",C.tc(23,jt,t.name))}}function Lt(t,e){if(1&t&&(C.Kc(0,"\n                                    "),C.Tb(1,"div",90),C.Kc(2,"\n                                      "),C.Ob(3,"img",91),C.Kc(4,"\n                                    "),C.Sb(),C.Kc(5,"\n                                    "),C.Tb(6,"div"),C.Kc(7),C.Sb(),C.Kc(8,"\n                                    "),C.Tb(9,"div"),C.Kc(10,"\n                                      "),C.Tb(11,"app-skin-price-table",92),C.Kc(12,"\n                                      "),C.Sb(),C.Kc(13,"\n                                    "),C.Sb(),C.Kc(14,"\n                                  ")),2&t){const t=C.hc().$implicit,e=C.hc(5);C.zb(3),C.pc("src",t.image||"assets/unknown.png",C.Dc),C.Ab("alt",t.name),C.zb(3),C.Cb("text-center text-rarity-",t.rarity.value,""),C.zb(1),C.Mc("\n                                      ",t.rarity.name,"\n                                    "),C.zb(4),C.pc("item",t)("showHeader",!1)("showNormalPrices",!e.stattrak)("showStattrakPrices",e.stattrak)}}function Rt(t,e){1&t&&(C.Tb(0,"span",93),C.Kc(1,"STATTRAK"),C.Sb())}function Wt(t,e){if(1&t&&(C.Tb(0,"tr"),C.Kc(1,"\n                                "),C.Tb(2,"td",94),C.Kc(3,"\n                                  "),C.Ob(4,"div",82),C.Kc(5,"\n                                  "),C.Ic(6,Lt,15,10,"ng-template",null,83,C.Jc),C.Kc(8,"\n                                "),C.Sb(),C.Kc(9,"\n                                "),C.Tb(10,"td",95),C.Kc(11,"\n                                  "),C.Tb(12,"div"),C.Kc(13),C.Ic(14,Rt,2,0,"span",85),C.Kc(15,"\n                                  "),C.Sb(),C.Kc(16,"\n                                "),C.Sb(),C.Kc(17,"\n                                "),C.Tb(18,"td"),C.Kc(19,"\n                                  "),C.Tb(20,"div",42),C.Kc(21),C.ic(22,"number"),C.ic(23,"number"),C.Sb(),C.Kc(24,"\n                                  "),C.Tb(25,"div",87),C.Kc(26,"\n                                    "),C.Tb(27,"div",44),C.Kc(28,"\n                                      \xa0\n                                    "),C.Sb(),C.Kc(29,"\n                                    "),C.Tb(30,"div",45),C.Kc(31,"\n                                      \xa0\n                                    "),C.Sb(),C.Kc(32,"\n                                  "),C.Sb(),C.Kc(33,"\n                                "),C.Sb(),C.Kc(34,"\n                                "),C.Tb(35,"td",88),C.Kc(36,"\n                                  "),C.Rb(37,89),C.Kc(38,"\n                                  "),C.Qb(),C.Kc(39,"\n                                "),C.Sb(),C.Kc(40,"\n                              "),C.Sb()),2&t){const t=e.$implicit,n=C.yc(7),c=C.hc(5),i=C.yc(82);C.zb(4),C.pc("ngStyle",C.tc(17,Mt,"url("+t.image||!1))("ngbPopover",n)("popoverTitle",t.name),C.zb(9),C.Mc("\n                                    ",t.name,"\n                                    "),C.zb(1),C.pc("ngIf",c.stattrak),C.zb(7),C.Nc("\n                                    ",C.kc(22,11,t.min,"1.2-2")," - ",C.kc(23,14,t.max,"1.2-2"),"\n                                  "),C.zb(6),C.pc("ngStyle",C.tc(19,_t,100*t.min)),C.zb(3),C.pc("ngStyle",C.tc(21,_t,100*t.max)),C.zb(7),C.pc("ngTemplateOutlet",i)("ngTemplateOutletContext",C.tc(23,jt,t.name))}}function $t(t,e){if(1&t&&(C.Kc(0,"\n                          "),C.Tb(1,"table",75),C.Kc(2,"\n                            "),C.Tb(3,"thead"),C.Kc(4,"\n                              "),C.Tb(5,"tr"),C.Kc(6,"\n                                "),C.Ob(7,"th"),C.Kc(8,"\n                                "),C.Tb(9,"th",76),C.Kc(10,"Skin"),C.Sb(),C.Kc(11,"\n                                "),C.Tb(12,"th"),C.Kc(13,"Float cap"),C.Sb(),C.Kc(14,"\n                                "),C.Ob(15,"th"),C.Kc(16,"\n                              "),C.Sb(),C.Kc(17,"\n                            "),C.Sb(),C.Kc(18,"\n                            "),C.Tb(19,"tbody"),C.Kc(20,"\n                              "),C.Ic(21,Et,41,25,"tr",77),C.Kc(22,"\n                            "),C.Sb(),C.Kc(23,"\n                          "),C.Sb(),C.Kc(24,"\n\n                          "),C.Tb(25,"div",78),C.Kc(26,"\n                            "),C.Tb(27,"div",79),C.Kc(28,"Outcomes:"),C.Sb(),C.Kc(29,"\n                          "),C.Sb(),C.Kc(30,"\n\n                          "),C.Tb(31,"table",80),C.Kc(32,"\n                            "),C.Tb(33,"thead"),C.Kc(34,"\n                              "),C.Tb(35,"tr"),C.Kc(36,"\n                                "),C.Ob(37,"th"),C.Kc(38,"\n                                "),C.Tb(39,"th",76),C.Kc(40,"Skin"),C.Sb(),C.Kc(41,"\n                                "),C.Tb(42,"th"),C.Kc(43,"Float cap"),C.Sb(),C.Kc(44,"\n                                "),C.Ob(45,"th"),C.Kc(46,"\n                              "),C.Sb(),C.Kc(47,"\n                            "),C.Sb(),C.Kc(48,"\n                            "),C.Tb(49,"tbody"),C.Kc(50,"\n                              "),C.Ic(51,Wt,41,25,"tr",77),C.Kc(52,"\n                            "),C.Sb(),C.Kc(53,"\n                          "),C.Sb(),C.Kc(54,"\n                        ")),2&t){const t=C.hc().$implicit;C.zb(21),C.pc("ngForOf",t.collection.skins),C.zb(30),C.pc("ngForOf",t.outcomes)}}function Ut(t,e){1&t&&(C.Tb(0,"ngb-panel",69),C.Kc(1,"\n                        "),C.Ic(2,At,15,3,"ng-template",70),C.Kc(3,"\n                        "),C.Ic(4,$t,55,2,"ng-template",71),C.Kc(5,"\n                      "),C.Sb()),2&t&&C.pc("id","collection-"+e.index)}function Ht(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                    "),C.Tb(2,"ngb-accordion",66,67),C.Kc(4,"\n                      "),C.Ic(5,Ut,6,1,"ngb-panel",68),C.Kc(6,"\n                    "),C.Sb(),C.Kc(7,"\n                  "),C.Qb()),2&t){const t=C.hc(2);C.zb(5),C.pc("ngForOf",t.collectionsForDisplay)}}function Qt(t,e){if(1&t){const t=C.Ub();C.Kc(0,"\n                  "),C.Tb(1,"div",56),C.Kc(2,"\n                    "),C.Tb(3,"div",32),C.Kc(4,"\n                      "),C.Tb(5,"h3",57),C.Kc(6,"Filter collections"),C.Sb(),C.Kc(7,"\n                      "),C.Tb(8,"div",58),C.Kc(9,"\n                        "),C.Tb(10,"div",59),C.Kc(11,"\n                          "),C.Tb(12,"input",60),C.fc("input",(function(e){return C.Bc(t),C.hc().search(e.target.value)})),C.Sb(),C.Kc(13,"\n                          "),C.Tb(14,"span",61),C.Kc(15,"\n                            "),C.Tb(16,"button",62),C.Kc(17,"\n                              "),C.Ob(18,"span",63),C.Kc(19,"\n                            "),C.Sb(),C.Kc(20,"\n                            "),C.Tb(21,"div",64),C.Kc(22,"\n                              "),C.Tb(23,"button",65),C.fc("click",(function(){return C.Bc(t),C.hc().sortCollectionsByOutcomes("asc")})),C.Kc(24,"\n                                By outcomes (ascending)\n                              "),C.Sb(),C.Kc(25,"\n                              "),C.Tb(26,"button",65),C.fc("click",(function(){return C.Bc(t),C.hc().sortCollectionsByOutcomes("desc")})),C.Kc(27,"\n                                By outcomes (descending)\n                              "),C.Sb(),C.Kc(28,"\n                            "),C.Sb(),C.Kc(29,"\n                          "),C.Sb(),C.Kc(30,"\n                        "),C.Sb(),C.Kc(31,"\n                      "),C.Sb(),C.Kc(32,"\n                    "),C.Sb(),C.Kc(33,"\n                  "),C.Sb(),C.Kc(34,"\n\n                  "),C.Ic(35,Ht,8,1,"ng-container",14),C.Kc(36,"\n                ")}if(2&t){const t=C.hc(),e=C.yc(85);C.zb(23),C.Eb("active","asc"===t.selectedSorting.collections.direction),C.zb(3),C.Eb("active","desc"===t.selectedSorting.collections.direction),C.zb(9),C.pc("ngIf",t.collectionsForDisplay.length)("ngIfElse",e)}}function Jt(t,e){if(1&t&&(C.Kc(0,"\n                                    "),C.Tb(1,"div",90),C.Kc(2,"\n                                      "),C.Ob(3,"img",91),C.Kc(4,"\n                                    "),C.Sb(),C.Kc(5,"\n                                    "),C.Tb(6,"div"),C.Kc(7),C.Sb(),C.Kc(8,"\n                                    "),C.Tb(9,"div"),C.Kc(10,"\n                                      "),C.Tb(11,"app-skin-price-table",92),C.Kc(12,"\n                                      "),C.Sb(),C.Kc(13,"\n                                    "),C.Sb(),C.Kc(14,"\n                                  ")),2&t){const t=C.hc().$implicit,e=C.hc(3);C.zb(3),C.pc("src",t.image||"assets/unknown.png",C.Dc),C.Ab("alt",t.name),C.zb(3),C.Cb("text-center text-rarity-",t.rarity.value,""),C.zb(1),C.Mc("\n                                      ",t.rarity.name,"\n                                    "),C.zb(4),C.pc("item",t)("showHeader",!1)("showNormalPrices",!e.stattrak)("showStattrakPrices",e.stattrak)}}function Yt(t,e){1&t&&(C.Tb(0,"span",93),C.Kc(1,"STATTRAK"),C.Sb())}function qt(t,e){if(1&t){const t=C.Ub();C.Tb(0,"tr"),C.Kc(1,"\n                                "),C.Tb(2,"td",81),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(3).selectSkin(n)})),C.Kc(3,"\n                                  "),C.Ob(4,"div",82),C.Kc(5,"\n                                  "),C.Ic(6,Jt,15,10,"ng-template",null,83,C.Jc),C.Kc(8,"\n                                "),C.Sb(),C.Kc(9,"\n                                "),C.Tb(10,"td",101),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(3).selectSkin(n)})),C.Kc(11,"\n                                  "),C.Ob(12,"div",35),C.Kc(13,"\n                                  "),C.Tb(14,"div"),C.Kc(15),C.Ic(16,Yt,2,0,"span",85),C.Kc(17,"\n                                  "),C.Sb(),C.Kc(18,"\n                                  "),C.Tb(19,"div",42),C.Kc(20),C.Sb(),C.Kc(21,"\n                                "),C.Sb(),C.Kc(22,"\n                                "),C.Tb(23,"td",86),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(3).selectSkin(n)})),C.Kc(24,"\n                                  "),C.Tb(25,"div",42),C.Kc(26),C.ic(27,"number"),C.ic(28,"number"),C.Sb(),C.Kc(29,"\n                                  "),C.Tb(30,"div",87),C.Kc(31,"\n                                    "),C.Tb(32,"div",44),C.Kc(33,"\n                                      \xa0\n                                    "),C.Sb(),C.Kc(34,"\n                                    "),C.Tb(35,"div",45),C.Kc(36,"\n                                      \xa0\n                                    "),C.Sb(),C.Kc(37,"\n                                  "),C.Sb(),C.Kc(38,"\n                                "),C.Sb(),C.Kc(39,"\n                                "),C.Tb(40,"td",88),C.Kc(41,"\n                                  "),C.Rb(42,89),C.Kc(43,"\n                                  "),C.Qb(),C.Kc(44,"\n                                "),C.Sb(),C.Kc(45,"\n                              "),C.Sb()}if(2&t){const t=e.$implicit,n=C.yc(7),c=C.hc(3),i=C.yc(82);C.zb(4),C.pc("ngStyle",C.tc(19,Mt,"url("+t.image||!1))("ngbPopover",n)("popoverTitle",t.name),C.zb(8),C.pc("ngStyle",C.tc(21,Mt,"url(assets/img/"+t.collection.key+".png)")),C.zb(3),C.Mc("\n                                    ",t.name,"\n                                    "),C.zb(1),C.pc("ngIf",c.stattrak),C.zb(4),C.Lc(t.collection.name),C.zb(6),C.Nc("\n                                    ",C.kc(27,13,t.min,"1.2-2")," - ",C.kc(28,16,t.max,"1.2-2"),"\n                                  "),C.zb(6),C.pc("ngStyle",C.tc(23,_t,100*t.min)),C.zb(3),C.pc("ngStyle",C.tc(25,_t,100*t.max)),C.zb(7),C.pc("ngTemplateOutlet",i)("ngTemplateOutletContext",C.tc(27,jt,t.name))}}function Gt(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                    "),C.Tb(2,"virtual-scroller",98,99),C.Kc(4,"\n                      "),C.Tb(5,"div",13),C.Kc(6,"\n                        "),C.Tb(7,"div",34),C.Kc(8,"\n                          "),C.Tb(9,"table",75),C.Kc(10,"\n                            "),C.Tb(11,"thead"),C.Kc(12,"\n                              "),C.Tb(13,"tr"),C.Kc(14,"\n                                "),C.Ob(15,"th"),C.Kc(16,"\n                                "),C.Tb(17,"th",76),C.Kc(18,"Skin"),C.Sb(),C.Kc(19,"\n                                "),C.Tb(20,"th"),C.Kc(21,"Float cap"),C.Sb(),C.Kc(22,"\n                                "),C.Ob(23,"th"),C.Kc(24,"\n                              "),C.Sb(),C.Kc(25,"\n                            "),C.Sb(),C.Kc(26,"\n                            "),C.Tb(27,"tbody",null,100),C.Kc(29,"\n                              "),C.Ic(30,qt,46,29,"tr",77),C.Kc(31,"\n                            "),C.Sb(),C.Kc(32,"\n                          "),C.Sb(),C.Kc(33,"\n                        "),C.Sb(),C.Kc(34,"\n                      "),C.Sb(),C.Kc(35,"\n                    "),C.Sb(),C.Kc(36,"\n                  "),C.Qb()),2&t){const t=C.yc(3),e=C.hc(2);C.zb(2),C.pc("items",e.skinsForDisplay)("bufferAmount",1),C.zb(28),C.pc("ngForOf",t.viewPortItems)}}function Xt(t,e){if(1&t){const t=C.Ub();C.Kc(0,"\n                  "),C.Tb(1,"div",56),C.Kc(2,"\n                    "),C.Tb(3,"div",32),C.Kc(4,"\n                      "),C.Tb(5,"h3",57),C.Kc(6,"Filter skins"),C.Sb(),C.Kc(7,"\n                      "),C.Tb(8,"div",58),C.Kc(9,"\n                        "),C.Tb(10,"div",59),C.Kc(11,"\n                          "),C.Tb(12,"input",96),C.fc("input",(function(e){return C.Bc(t),C.hc().search(e.target.value)})),C.Sb(),C.Kc(13,"\n                          "),C.Tb(14,"span",61),C.Kc(15,"\n                            "),C.Tb(16,"button",62),C.Kc(17,"\n                              "),C.Ob(18,"span",63),C.Kc(19,"\n                            "),C.Sb(),C.Kc(20,"\n                            "),C.Tb(21,"div",64),C.Kc(22,"\n                              "),C.Tb(23,"button",65),C.fc("click",(function(){return C.Bc(t),C.hc().sortSkinsByOption(1)})),C.Kc(24,"\n                                By lowest float cap\n                              "),C.Sb(),C.Kc(25,"\n                              "),C.Tb(26,"button",65),C.fc("click",(function(){return C.Bc(t),C.hc().sortSkinsByOption(2)})),C.Kc(27,"\n                                By highest float cap\n                              "),C.Sb(),C.Kc(28,"\n                              "),C.Ob(29,"div",97),C.Kc(30,"\n                              "),C.Tb(31,"button",65),C.fc("click",(function(){return C.Bc(t),C.hc().sortSkinsByOption(3)})),C.Kc(32,"\n                                By name\n                              "),C.Sb(),C.Kc(33,"\n                              "),C.Tb(34,"button",65),C.fc("click",(function(){return C.Bc(t),C.hc().sortSkinsByOption(4)})),C.Kc(35,"\n                                By collection\n                              "),C.Sb(),C.Kc(36,"\n                            "),C.Sb(),C.Kc(37,"\n                          "),C.Sb(),C.Kc(38,"\n                        "),C.Sb(),C.Kc(39,"\n                      "),C.Sb(),C.Kc(40,"\n                    "),C.Sb(),C.Kc(41,"\n                  "),C.Sb(),C.Kc(42,"\n\n                  "),C.Ic(43,Gt,37,3,"ng-container",14),C.Kc(44,"\n                ")}if(2&t){const t=C.hc(),e=C.yc(85);C.zb(23),C.Eb("active","floatCap"===t.selectedSorting.skins.option&&"asc"===t.selectedSorting.skins.direction),C.zb(3),C.Eb("active","floatCap"===t.selectedSorting.skins.option&&"desc"===t.selectedSorting.skins.direction),C.zb(5),C.Eb("active","name"===t.selectedSorting.skins.option),C.zb(3),C.Eb("active","collection"===t.selectedSorting.skins.option),C.zb(9),C.pc("ngIf",t.skinsForDisplay.length)("ngIfElse",e)}}function Zt(t,e){if(1&t&&(C.Kc(0,"\n                                      "),C.Tb(1,"div",90),C.Kc(2,"\n                                        "),C.Ob(3,"img",91),C.Kc(4,"\n                                      "),C.Sb(),C.Kc(5,"\n                                      "),C.Tb(6,"div"),C.Kc(7),C.Sb(),C.Kc(8,"\n                                    ")),2&t){const t=C.hc().$implicit;C.zb(3),C.pc("src",t.imageurl||"assets/unknown.png",C.Dc),C.Ab("alt",t.full_item_name),C.zb(3),C.Cb("text-center text-rarity-",t.rarity,""),C.zb(1),C.Mc("\n                                        ",t.rarity_name,"\n                                      ")}}function te(t,e){1&t&&(C.Tb(0,"span",93),C.Kc(1,"STATTRAK"),C.Sb())}function ee(t,e){if(1&t){const t=C.Ub();C.Tb(0,"tr"),C.Kc(1,"\n                                  "),C.Tb(2,"td",81),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(5).selectSkinFromInventory(n)})),C.Kc(3,"\n                                    "),C.Ob(4,"div",82),C.Kc(5,"\n                                    "),C.Ic(6,Zt,9,6,"ng-template",null,83,C.Jc),C.Kc(8,"\n                                  "),C.Sb(),C.Kc(9,"\n                                  "),C.Tb(10,"td",101),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(5).selectSkinFromInventory(n)})),C.Kc(11,"\n                                    "),C.Tb(12,"div"),C.Kc(13),C.Ic(14,te,2,0,"span",85),C.Kc(15,"\n                                    "),C.Sb(),C.Kc(16,"\n                                  "),C.Sb(),C.Kc(17,"\n                                  "),C.Tb(18,"td",86),C.fc("click",(function(){C.Bc(t);const n=e.$implicit;return C.hc(5).selectSkinFromInventory(n)})),C.Kc(19,"\n                                    "),C.Tb(20,"div",42),C.Kc(21),C.ic(22,"number"),C.Sb(),C.Kc(23,"\n                                    "),C.Tb(24,"div",103),C.Kc(25,"\n                                      "),C.Tb(26,"div",44),C.Kc(27,"\n                                        \xa0\n                                      "),C.Sb(),C.Kc(28,"\n                                      "),C.Tb(29,"div",45),C.Kc(30,"\n                                        \xa0\n                                      "),C.Sb(),C.Kc(31,"\n                                    "),C.Sb(),C.Kc(32,"\n                                    "),C.Tb(33,"div",42),C.Kc(34),C.Sb(),C.Kc(35,"\n                                  "),C.Sb(),C.Kc(36,"\n                                  "),C.Tb(37,"td",88),C.Kc(38,"\n                                    "),C.Rb(39,89),C.Kc(40,"\n                                    "),C.Qb(),C.Kc(41,"\n                                  "),C.Sb(),C.Kc(42,"\n                                "),C.Sb()}if(2&t){const t=e.$implicit,n=C.yc(7);C.hc(5);const c=C.yc(82);C.zb(4),C.pc("ngStyle",C.tc(16,Mt,"url("+t.imageurl||!1))("ngbPopover",n)("popoverTitle",t.full_item_name),C.zb(9),C.Nc("\n                                      ",t.weapon_type," | ",t.item_name,"\n                                      "),C.zb(1),C.pc("ngIf",9===t.quality),C.zb(7),C.Mc("\n                                      ",C.kc(22,13,t.floatvalue,"1.7-7"),"\n                                    "),C.zb(3),C.pc("ngbTooltip","Float cap: "+t.min+" - "+t.max),C.zb(2),C.pc("ngStyle",C.tc(18,_t,100*t.min)),C.zb(3),C.pc("ngStyle",C.tc(20,_t,100*t.max)),C.zb(5),C.Mc("\n                                      ",t.wear_name,"\n                                    "),C.zb(5),C.pc("ngTemplateOutlet",c)("ngTemplateOutletContext",C.tc(22,jt,t.full_item_name))}}function ne(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                      "),C.Tb(2,"virtual-scroller",98,99),C.Kc(4,"\n                        "),C.Tb(5,"div",13),C.Kc(6,"\n                          "),C.Tb(7,"div",34),C.Kc(8,"\n                            "),C.Tb(9,"table",75),C.Kc(10,"\n                              "),C.Tb(11,"thead"),C.Kc(12,"\n                                "),C.Tb(13,"tr"),C.Kc(14,"\n                                  "),C.Ob(15,"th"),C.Kc(16,"\n                                  "),C.Tb(17,"th",76),C.Kc(18,"Skin"),C.Sb(),C.Kc(19,"\n                                  "),C.Tb(20,"th"),C.Kc(21,"Float"),C.Sb(),C.Kc(22,"\n                                  "),C.Ob(23,"th"),C.Kc(24,"\n                                "),C.Sb(),C.Kc(25,"\n                              "),C.Sb(),C.Kc(26,"\n                              "),C.Tb(27,"tbody",null,100),C.Kc(29,"\n                                "),C.Ic(30,ee,43,24,"tr",77),C.Kc(31,"\n                              "),C.Sb(),C.Kc(32,"\n                            "),C.Sb(),C.Kc(33,"\n                          "),C.Sb(),C.Kc(34,"\n                        "),C.Sb(),C.Kc(35,"\n                      "),C.Sb(),C.Kc(36,"\n                    "),C.Qb()),2&t){const t=C.yc(3),e=C.hc(4);C.zb(2),C.pc("items",e.inventorySkinsForDisplay)("bufferAmount",1),C.zb(28),C.pc("ngForOf",t.viewPortItems)}}function ce(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                    "),C.Ic(2,ne,37,3,"ng-container",14),C.Kc(3,"\n                  "),C.Qb()),2&t){const t=C.hc(3),e=C.yc(85);C.zb(2),C.pc("ngIf",t.inventorySkinsForDisplay.length)("ngIfElse",e)}}function ie(t,e){if(1&t){const t=C.Ub();C.Kc(0,"\n                  "),C.Tb(1,"div",56),C.Kc(2,"\n                    "),C.Tb(3,"div",32),C.Kc(4,"\n                      "),C.Tb(5,"h3",57),C.Kc(6,"Filter skins"),C.Sb(),C.Kc(7,"\n                      "),C.Tb(8,"div",58),C.Kc(9,"\n                        "),C.Tb(10,"div",59),C.Kc(11,"\n                          "),C.Tb(12,"input",102),C.fc("input",(function(e){return C.Bc(t),C.hc(2).search(e.target.value)})),C.Sb(),C.Kc(13,"\n                          "),C.Tb(14,"span",61),C.Kc(15,"\n                            "),C.Tb(16,"button",62),C.Kc(17,"\n                              "),C.Ob(18,"span",63),C.Kc(19,"\n                            "),C.Sb(),C.Kc(20,"\n                            "),C.Tb(21,"div",64),C.Kc(22,"\n                              "),C.Tb(23,"button",65),C.fc("click",(function(){return C.Bc(t),C.hc(2).sortSkinsByOption(5)})),C.Kc(24,"\n                                By lowest float\n                              "),C.Sb(),C.Kc(25,"\n                              "),C.Tb(26,"button",65),C.fc("click",(function(){return C.Bc(t),C.hc(2).sortSkinsByOption(6)})),C.Kc(27,"\n                                By highest float\n                              "),C.Sb(),C.Kc(28,"\n                            "),C.Sb(),C.Kc(29,"\n                          "),C.Sb(),C.Kc(30,"\n                        "),C.Sb(),C.Kc(31,"\n                      "),C.Sb(),C.Kc(32,"\n                    "),C.Sb(),C.Kc(33,"\n                  "),C.Sb(),C.Kc(34,"\n\n                  "),C.Ic(35,ce,4,2,"ng-container",14),C.Kc(36,"\n                ")}if(2&t){const t=C.hc(2),e=C.yc(88);C.zb(23),C.Eb("active","asc"===t.selectedSorting.inventory.direction),C.zb(3),C.Eb("active","desc"===t.selectedSorting.inventory.direction),C.zb(9),C.pc("ngIf",!t.inventoryLoading)("ngIfElse",e)}}function oe(t,e){1&t&&(C.Rb(0,19),C.Kc(1,"\n                "),C.Tb(2,"a",22),C.Kc(3,"Inventory"),C.Sb(),C.Kc(4,"\n                "),C.Ic(5,ie,37,6,"ng-template",21),C.Kc(6,"\n              "),C.Qb()),2&t&&C.pc("ngbNavItem",3)}function ae(t,e){if(1&t&&(C.Kc(0,"\n  "),C.Tb(1,"a",104),C.Ob(2,"i",105),C.Sb(),C.Kc(3,"\n")),2&t){const t=e.itemName,n=C.hc();C.zb(1),C.Ab("href","https://steamcommunity.com/market/search?q="+(n.stattrak?"StatTrak\u2122 ":"")+t,C.Dc)}}function re(t,e){1&t&&(C.Kc(0,"\n  "),C.Tb(1,"div",106),C.Kc(2,"\n    No items for display\n  "),C.Sb(),C.Kc(3,"\n"))}function se(t,e){1&t&&(C.Kc(0,"\n  "),C.Tb(1,"div",38),C.Kc(2,"\n    "),C.Tb(3,"div",107),C.Kc(4,"\n      "),C.Ob(5,"div",108),C.Kc(6,"\n    "),C.Sb(),C.Kc(7,"\n  "),C.Sb(),C.Kc(8,"\n"))}let le=(()=>{class t{constructor(t,e,n,c,i){this.activeModal=t,this.cdr=e,this.formBuilder=n,this.authService=c,this.inventoryService=i,this.itemsForSelect=[],this.collectionsForDisplay=[],this.skinsForDisplay=[],this.inventoryLoading=!0,this.inventorySkinsForDisplay=[],this.currentTabId=1,this.selectedSorting=new j.c,this.storedInventoryItems=[],this.allCollectionsWithOutcomes=[],this.searchSubject=new B.a,this.searchSubjectSubscription=f.a.EMPTY,this.floatValueChangeSubscription=f.a.EMPTY,this.createForm(),this.userAuthenticated=this.authService.isAuthenticated(),this.selectedSorting.skins.option="collection",this.selectedSorting.inventory.option="floatValue"}get floatIndex(){return this.inputItemForm.get("floatIndex").value}ngOnInit(){this.changeTab({nextId:this.currentTabId}),this.floatValueChangeSubscription=this.inputItemForm.get("float").valueChanges.pipe(Object(k.a)(200)).subscribe(t=>{const e=Object(M.e)(t);this.inputItemForm.get("floatIndex").setValue(e),this.inputItemForm.get("inventoryItemId").setValue(null),this.cdr.markForCheck()}),this.searchSubjectSubscription=this.searchSubject.pipe(Object(k.a)(300),Object(N.a)()).subscribe(t=>{switch(this.currentTabId){case 1:this.filterCollectionsBySearchValue(t);break;case 2:this.filterSkinsBySearchValue(t);break;case 3:this.filterInventoryItemsBySearchValue(t)}}),this.userAuthenticated&&this.inventoryService.getInventory().pipe(Object(A.a)(()=>{this.inventoryLoading=!1,this.cdr.markForCheck()}),Object(D.a)(1)).subscribe(t=>{this.storedInventoryItems=Object(M.f)(t,[...this.getSkinsForDisplay()],this.itemsInCalculator,{rarity:this.rarity,stattrak:this.stattrak}),this.inventorySkinsForDisplay=[...this.storedInventoryItems],this.inventoryLoading=!1,this.sortSkinsByStoredValue(!0)})}ngOnDestroy(){this.searchSubjectSubscription.unsubscribe(),this.floatValueChangeSubscription.unsubscribe()}selectSkin(t,e){let n,c;this.inputItemForm.get("float").setValidators([i.y.required,i.y.min(t.min),i.y.max(t.max)]);let o=0;e&&(n=e.floatvalue,c=Object(M.e)(e.floatvalue),o=Object(M.g)(t,e.floatvalue,e.stattrak)),this.inputItemForm.reset({inputItem:t,price:o,float:n,floatIndex:c,inventoryItemId:null==e?void 0:e.floatid},{emitEvent:!1}),this.selectedWeapon=t,this.cdr.markForCheck()}selectSkinFromInventory(t){const e=`${t.weapon_type} | ${t.item_name}`,n=this.itemsForSelect.find(t=>t.name===e);n&&this.selectSkin(n,t)}changeTab(t){var e;this.currentTabId=t.nextId,1!==this.currentTabId||(null===(e=this.collectionsForDisplay)||void 0===e?void 0:e.length)?2===this.currentTabId?(this.skinsForDisplay=[...this.getSkinsForDisplay()],this.sortSkinsByStoredValue()):(this.inventorySkinsForDisplay=[...this.storedInventoryItems],this.sortSkinsByStoredValue(!0)):(this.allCollectionsWithOutcomes=this.getCollectionsForDisplay(this.rarity),this.collectionsForDisplay=[...this.allCollectionsWithOutcomes],this.sortCollectionsByOutcomes(this.selectedSorting.collections.direction),this.cdr.markForCheck()),this.search()}search(t=""){this.searchSubject.next(t)}addItem(){this.activeModal.close(this.inputItemForm.value)}sortCollectionsByOutcomes(t="asc"){"asc"===t?(this.collectionsForDisplay=this.collectionsForDisplay.sort((t,e)=>t.outcomes.length-e.outcomes.length),this.selectedSorting.collections.direction="asc"):(this.collectionsForDisplay=this.collectionsForDisplay.sort((t,e)=>e.outcomes.length-t.outcomes.length),this.selectedSorting.collections.direction="desc"),this.selectedSorting.collections.option="outcomes",this.cdr.markForCheck()}sortSkinsByOption(t){switch(t){case 1:this.skinsForDisplay=this.skinsForDisplay.sort((t,e)=>t.max-e.max),this.storeSkinSortingOption({option:"floatCap",direction:"asc"});break;case 2:this.skinsForDisplay=this.skinsForDisplay.sort((t,e)=>e.max-t.max),this.storeSkinSortingOption({option:"floatCap",direction:"desc"});break;case 3:this.skinsForDisplay=this.skinsForDisplay.sort((t,e)=>t.name<e.name?-1:t.name>e.name?1:0),this.storeSkinSortingOption({option:"name",direction:"asc"});break;case 4:this.skinsForDisplay=this.skinsForDisplay.sort((t,e)=>t.collection.name<e.collection.name?-1:t.collection.name>e.collection.name?1:0),this.storeSkinSortingOption({option:"collection",direction:"asc"});break;case 5:this.inventorySkinsForDisplay=this.inventorySkinsForDisplay.sort((t,e)=>t.floatvalue-e.floatvalue),this.storeSkinSortingOption({option:"floatValue",direction:"asc"},!0);break;case 6:this.inventorySkinsForDisplay=this.inventorySkinsForDisplay.sort((t,e)=>e.floatvalue-t.floatvalue),this.storeSkinSortingOption({option:"floatValue",direction:"desc"},!0)}this.cdr.markForCheck()}storeSkinSortingOption(t,e){e?this.selectedSorting.inventory=t:this.selectedSorting.skins=t}filterCollectionsBySearchValue(t){this.collectionsForDisplay=this.allCollectionsWithOutcomes.filter(e=>e.collection.skins[0].collection.name.toLowerCase().replace(/[.]/g,"").includes(t.toLowerCase().replace(/[.]/g,""))||e.collection.skins.filter(e=>e.name.toLowerCase().replace(/[.]/g,"").includes(t.toLowerCase().replace(/[.]/g,""))).length||e.outcomes.filter(e=>e.name.toLowerCase().replace(/[.]/g,"").includes(t.toLowerCase().replace(/[.]/g,""))).length).filter(t=>!this.stattrak||t.collection.skins[0].stattrak===this.stattrak),this.sortCollectionsByOutcomes(this.selectedSorting.collections.direction),this.cdr.markForCheck()}filterSkinsBySearchValue(t){this.skinsForDisplay=this.itemsForSelect.filter(e=>e.name.toLowerCase().replace(/[.]/g,"").includes(t.toLowerCase().replace(/[.]/g,""))||e.collection.name.toLowerCase().replace(/[.]/g,"").includes(t.toLowerCase().replace(/[.]/g,""))).filter(t=>!this.stattrak||Boolean(t.stattrak)===this.stattrak),this.sortSkinsByStoredValue(),this.cdr.markForCheck()}sortSkinsByStoredValue(t){const e=this.selectedSorting[t?"inventory":"skins"],n="asc"===e.direction;switch(e.option){case"floatCap":this.sortSkinsByOption(n?1:2);break;case"name":this.sortSkinsByOption(3);break;case"collection":this.sortSkinsByOption(4);break;case"floatValue":this.sortSkinsByOption(n?5:6)}}filterInventoryItemsBySearchValue(t){this.inventorySkinsForDisplay=this.storedInventoryItems.filter(e=>e.full_item_name.toLowerCase().includes(t.toLowerCase())).filter(t=>!this.stattrak||Boolean(t.stattrak)===this.stattrak),this.sortSkinsByStoredValue(!0),this.cdr.markForCheck()}getSkinsForDisplay(){return this.itemsForSelect.filter(t=>!this.stattrak||Boolean(t.stattrak)===this.stattrak)}getCollectionsForDisplay(t){var e;const n=[];for(const c of this.structCollection){const i=c.items[t];if(i&&(!this.stattrak||i.skins[0].stattrak===this.stattrak)){const i=c.items[t+1];if(null===(e=null==i?void 0:i.skins)||void 0===e?void 0:e.length){const e=[...i.skins];n.push({collection:c.items[t],outcomes:e})}}}return n}createForm(){this.inputItemForm=this.formBuilder.group({inputItem:[null,i.y.required],float:[null],price:[0,[i.y.required,i.y.min(0)]],floatIndex:[null],inventoryItemId:[null]})}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(o.c),C.Nb(C.h),C.Nb(i.f),C.Nb(w),C.Nb(V.a))},t.\u0275cmp=C.Hb({type:t,selectors:[["app-calculator-add-item-modal"]],decls:90,vars:11,consts:[["id","add-collection-item",3,"formGroup","submit"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","pt-0"],[1,"row","pt-4"],[1,"col-lg-4"],[1,"form-group","mb-1"],[1,"form-label"],[3,"allSkins","inputHeightPx","showCollectionName","skinSelected",4,"ngIf","ngIfElse"],["noItemsForSelectTmpl",""],[1,"sticky"],[1,"card"],[4,"ngIf","ngIfElse"],["noWeaponSelectedTmpl",""],[1,"col-lg-8"],["ngbNav","",1,"nav-pills","py-3",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","",1,"p-2","px-4"],["ngbNavContent",""],["ngbNavLink","",1,"py-2","px-4"],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavOutlet"],[1,"modal-footer"],["type","submit","aria-label","Add item",1,"btn","btn-primary",3,"disabled"],["linkToSteam",""],["noItemsTmpl",""],["loading",""],[3,"allSkins","inputHeightPx","showCollectionName","skinSelected"],[1,"alert","alert-info","m-0","py-1"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"collection-bg",3,"ngStyle"],[1,"text-center"],["height","100","alt","",3,"src"],[1,"row"],[1,"col-sm-6",3,"ngClass"],[1,"col-sm-6","text-sm-right"],[1,"col-12"],[1,"text-muted"],[1,"progress","progress-sm","mb-0"],[1,"progress-bar","bg-transparent",3,"ngStyle"],[1,"progress-bar","bg-warning",3,"ngStyle"],[1,"card-footer"],[1,"form-group","mb-0"],[1,"form-label","float-left"],[1,"float-right","text-muted","small"],[4,"ngIf"],[1,"input-group","mb-2"],["type","number","step","0.01","tabindex","1","formControlName","float",1,"form-control","form-control-sm",3,"min","max"],["type","number","step","0.01","min","0","tabindex","2","placeholder","Item price","formControlName","price",1,"form-control","form-control-sm"],[3,"item","showNormalPrices","showStattrakPrices","showHeader","highlightedIndex"],[1,"h5","mb-0","text-center"],[1,"card","sticky"],[1,"card-title","d-none","d-sm-block"],[1,"card-options"],[1,"input-group"],["type","text","placeholder","Filter by collection, skin or outcome skin name","name","collectionSearch",1,"form-control","form-control-sm",3,"input"],["ngbDropdown","","placement","bottom-right","container","body",1,"input-group-btn","ml-2","d-inline-block"],["type","button","ngbDropdownToggle","",1,"btn","btn-sm","btn-default"],[1,"fe","fe-filter"],["ngbDropdownMenu","","aria-labelledby","filter-dropdown"],["ngbDropdownItem","",3,"click"],["activeIds","collection-0"],["accordion","ngbAccordion"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],["ngbPanelHeader",""],["ngbPanelContent",""],[1,"panel-header","d-flex","align-items-center","justify-content-between","w-100",3,"click"],["alt","",1,"collection-img",3,"src"],[1,"ml-5","my-0","mr-0"],[1,"table","card-table","table-striped","table-vcenter","input-item-table"],[1,"pl-0"],[4,"ngFor","ngForOf"],[1,"card","mb-0","outcomes-title-card"],[1,"card-header","h3"],[1,"table","card-table","table-striped","table-vcenter"],[1,"text-center","position-relative","pl-2",3,"click"],["container","body","popoverClass","item-popover","triggers","mouseenter:mouseleave",1,"d-block","skin-image","position-relative",3,"ngStyle","ngbPopover","popoverTitle"],["itemPreviewTmplBody",""],[1,"p-0",3,"click"],["class","tag tag-orange",4,"ngIf"],[3,"click"],[1,"progress","mb-3"],[1,"w-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-center","mx-auto"],[1,"preview-img",3,"src"],[3,"item","showHeader","showNormalPrices","showStattrakPrices"],[1,"tag","tag-orange"],[1,"text-center","position-relative","pl-2"],[1,"p-0"],["type","text","placeholder","Filter by skin or collection name","name","collectionSearch",1,"form-control","form-control-sm",3,"input"],[1,"dropdown-divider"],[1,"mt-3",3,"items","bufferAmount"],["scroll",""],["container",""],[1,"p-0","position-relative","skin-name-container",3,"click"],["type","text","placeholder","Filter by skin name","name","inventorySearch",1,"form-control","form-control-sm",3,"input"],[1,"progress",3,"ngbTooltip"],["target","_blank","rel","noopener noreferrer"],[1,"fab","fa-steam"],[1,"col-12","text-center","h3","mt-5"],[1,"col-12","my-2"],[1,"loading-indicator","my-0","mx-auto"]],template:function(t,e){if(1&t&&(C.Tb(0,"form",0),C.fc("submit",(function(){return e.addItem()})),C.Kc(1,"\n  "),C.Tb(2,"div",1),C.Kc(3,"\n    "),C.Tb(4,"div",2),C.Kc(5,"\n      "),C.Tb(6,"h5",3),C.Kc(7,"Add item to trade up"),C.Sb(),C.Kc(8,"\n      "),C.Tb(9,"button",4),C.fc("click",(function(){return e.activeModal.dismiss()})),C.Sb(),C.Kc(10,"\n    "),C.Sb(),C.Kc(11,"\n    "),C.Tb(12,"div",5),C.Kc(13,"\n      "),C.Tb(14,"div",6),C.Kc(15,"\n        "),C.Tb(16,"div",7),C.Kc(17,"\n          "),C.Tb(18,"div",8),C.Kc(19,"\n            "),C.Tb(20,"label",9),C.Kc(21,"Skin name"),C.Sb(),C.Kc(22,"\n            "),C.Ic(23,zt,2,3,"app-skin-select-autocomplete",10),C.Kc(24,"\n            "),C.Ic(25,Pt,4,0,"ng-template",null,11,C.Jc),C.Kc(27,"\n          "),C.Sb(),C.Kc(28,"\n          "),C.Tb(29,"div",12),C.Kc(30,"\n            "),C.Tb(31,"div",13),C.Kc(32,"\n              "),C.Ic(33,Bt,80,34,"ng-container",14),C.Kc(34,"\n              "),C.Ic(35,Nt,7,0,"ng-template",null,15,C.Jc),C.Kc(37,"\n            "),C.Sb(),C.Kc(38,"\n          "),C.Sb(),C.Kc(39,"\n        "),C.Sb(),C.Kc(40,"\n        "),C.Tb(41,"div",16),C.Kc(42,"\n          "),C.Tb(43,"div"),C.Kc(44,"\n            "),C.Tb(45,"nav",17,18),C.fc("activeIdChange",(function(t){return e.currentTabId=t}))("navChange",(function(t){return e.changeTab(t)})),C.Kc(47,"\n              "),C.Rb(48,19),C.Kc(49,"\n                "),C.Tb(50,"a",20),C.Kc(51,"Collections"),C.Sb(),C.Kc(52,"\n                "),C.Ic(53,Qt,37,6,"ng-template",21),C.Kc(54,"\n              "),C.Qb(),C.Kc(55,"\n              "),C.Rb(56,19),C.Kc(57,"\n                "),C.Tb(58,"a",22),C.Kc(59,"Skins"),C.Sb(),C.Kc(60,"\n                "),C.Ic(61,Xt,45,10,"ng-template",21),C.Kc(62,"\n              "),C.Qb(),C.Kc(63,"\n              "),C.Ic(64,oe,7,1,"ng-container",23),C.Kc(65,"\n            "),C.Sb(),C.Kc(66,"\n\n            "),C.Ob(67,"div",24),C.Kc(68,"\n          "),C.Sb(),C.Kc(69,"\n        "),C.Sb(),C.Kc(70,"\n      "),C.Sb(),C.Kc(71,"\n    "),C.Sb(),C.Kc(72,"\n    "),C.Tb(73,"div",25),C.Kc(74,"\n      "),C.Tb(75,"button",26),C.Kc(76,"\n        Add item\n      "),C.Sb(),C.Kc(77,"\n    "),C.Sb(),C.Kc(78,"\n  "),C.Sb(),C.Kc(79,"\n"),C.Sb(),C.Kc(80,"\n\n"),C.Ic(81,ae,4,1,"ng-template",null,27,C.Jc),C.Kc(83,"\n\n"),C.Ic(84,re,4,0,"ng-template",null,28,C.Jc),C.Kc(86,"\n\n"),C.Ic(87,se,9,0,"ng-template",null,29,C.Jc),C.Kc(89,"\n")),2&t){const t=C.yc(26),n=C.yc(36),c=C.yc(46);C.pc("formGroup",e.inputItemForm),C.zb(23),C.pc("ngIf",e.itemsForSelect.length)("ngIfElse",t),C.zb(10),C.pc("ngIf",e.selectedWeapon)("ngIfElse",n),C.zb(12),C.pc("activeId",e.currentTabId),C.zb(3),C.pc("ngbNavItem",1),C.zb(8),C.pc("ngbNavItem",2),C.zb(8),C.pc("ngIf",e.userAuthenticated),C.zb(3),C.pc("ngbNavOutlet",c),C.zb(8),C.pc("disabled",e.inputItemForm.invalid)}},directives:[i.A,i.p,i.k,c.o,o.m,o.o,o.p,o.n,o.r,wt,c.p,c.m,i.t,i.c,i.o,i.i,xt.a,o.d,o.i,o.g,o.f,o.a,c.n,o.s,o.u,o.t,o.v,c.t,s.a,o.z],pipes:[c.g,tt.a],styles:["#add-collection-item[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{width:5rem;height:5rem}#add-collection-item[_ngcontent-%COMP%]   .input-item-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}#add-collection-item[_ngcontent-%COMP%]   td.skin-name-container[_ngcontent-%COMP%]{z-index:1}#add-collection-item[_ngcontent-%COMP%]   td.skin-name-container[_ngcontent-%COMP%]   .collection-bg[_ngcontent-%COMP%]{top:0;left:0;position:absolute;background-repeat:no-repeat;background-size:30%;opacity:.1;width:100%;height:100%;background-position:100%;z-index:-1}#add-collection-item[_ngcontent-%COMP%]   .card-options[_ngcontent-%COMP%]{width:65%}#add-collection-item[_ngcontent-%COMP%]   virtual-scroller[_ngcontent-%COMP%]{width:100%;height:650px}#add-collection-item[_ngcontent-%COMP%]   .sticky[_ngcontent-%COMP%]{z-index:10;position:-webkit-sticky;position:sticky;top:0;left:0;right:0}#add-collection-item[_ngcontent-%COMP%]   .progress-sm[_ngcontent-%COMP%]{height:.3rem}@media screen and (max-width:992px){#add-collection-item[_ngcontent-%COMP%]   .info-head-container[_ngcontent-%COMP%]{max-height:100%}}#add-collection-item[_ngcontent-%COMP%]   .collection-bg[_ngcontent-%COMP%]{top:10%;left:0;position:absolute;background-repeat:no-repeat;background-size:30%;opacity:.2;width:100%;height:100%;background-position:100% 0}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-header{position:relative;background-color:#45aaf2;color:#fff;transition:.3s ease}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-header:hover{background-color:#0e78c3}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-header .panel-header{cursor:pointer}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-header .panel-header .collection-img{width:auto;height:30px;position:absolute;left:5px;top:15px}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-body{padding:0}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-body .progress{height:.4rem}#add-collection-item[_ngcontent-%COMP%]     ngb-accordion .card-body .skin-image{max-width:60px;height:40px;background-size:cover;background-position:50%;background-repeat:no-repeat;z-index:1;transition:.3s ease}#add-collection-item[_ngcontent-%COMP%]     virtual-scroller .collection-img{width:auto;height:30px;position:absolute;left:5px;top:15px}#add-collection-item[_ngcontent-%COMP%]     virtual-scroller .card-body{padding:0}#add-collection-item[_ngcontent-%COMP%]     virtual-scroller .card-body .progress{height:.4rem}#add-collection-item[_ngcontent-%COMP%]     virtual-scroller .card-body .skin-image{max-width:60px;height:40px;background-size:cover;background-position:50%;background-repeat:no-repeat;z-index:1;transition:.3s ease}#add-collection-item[_ngcontent-%COMP%]   .outcomes-title-card[_ngcontent-%COMP%]{border-radius:0;border-left:none;border-right:none}#add-collection-item[_ngcontent-%COMP%]   .outcomes-title-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{color:#6e7687;background-color:#adb5bd}"],changeDetection:0}),t})();var be=n("2Vo4");let ue=(()=>{class t{constructor(){this.copiedValueBehaviorSubject=new be.a(new j.a)}emitCopiedValues(t){this.copiedValueBehaviorSubject.next(t)}getCopiedValueChanges(){return this.copiedValueBehaviorSubject.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const me=["app-calculator-input-item",""];function de(t,e){if(1&t&&(C.Kc(0,"\n      "),C.Tb(1,"div",41),C.Kc(2,"\n        "),C.Ob(3,"img",42),C.Kc(4,"\n      "),C.Sb(),C.Kc(5,"\n      "),C.Tb(6,"div"),C.Kc(7),C.Sb(),C.Kc(8,"\n      "),C.Tb(9,"div",43),C.Kc(10,"\n        Click on icon to change item\n      "),C.Sb(),C.Kc(11,"\n    ")),2&t){const t=C.hc(2);C.zb(3),C.pc("src",t.item.inputItem.image||"assets/unknown.png",C.Dc),C.Ab("alt",t.item.inputItem.name),C.zb(3),C.Cb("text-center text-rarity-",t.item.inputItem.rarity.value,""),C.zb(1),C.Lc(t.item.inputItem.rarity.name)}}function pe(t,e){1&t&&(C.Tb(0,"span",44),C.Kc(1,"STATTRAK\n      "),C.Sb())}function ge(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n          "),C.Tb(2,"b",45),C.Kc(3),C.ic(4,"currency"),C.Sb(),C.Kc(5,"\n        "),C.Qb()),2&t){const t=e.ngIf;C.zb(2),C.pc("ngClass","-"===t?"text-danger":"text-green"),C.zb(1),C.Lc("-"===t?"-":C.mc(4,2,t,"USD","symbol","1.2-2"))}}const he=function(t){return{"background-image":t}},Ke=function(t,e,n){return{itemName:t,float:e,stattrak:n}},fe=function(t){return{"width.%":t}};function Se(t,e){if(1&t){const t=C.Ub();C.Rb(0,3),C.Kc(1,"\n  "),C.Tb(2,"td",4),C.Kc(3,"\n    "),C.Tb(4,"div",5),C.Kc(5,"\n      "),C.Tb(6,"div",6),C.fc("click",(function(){return C.Bc(t),C.hc().openAddItemModal()})),C.Kc(7,"\n        "),C.Ob(8,"i",7),C.Kc(9,"\n      "),C.Sb(),C.Kc(10,"\n    "),C.Sb(),C.Kc(11,"\n    "),C.Ic(12,de,12,6,"ng-template",null,8,C.Jc),C.Kc(14,"\n  "),C.Sb(),C.Kc(15,"\n  "),C.Tb(16,"td",9),C.Kc(17,"\n    "),C.Tb(18,"div",10),C.Kc(19,"\n    "),C.Sb(),C.Kc(20,"\n    "),C.Tb(21,"div"),C.Ic(22,pe,2,0,"span",11),C.Kc(23,"\n      "),C.Tb(24,"span"),C.Kc(25),C.Sb(),C.Kc(26,"\n      "),C.Tb(27,"span"),C.Kc(28,"\n        "),C.Rb(29,12),C.Kc(30,"\n        "),C.Qb(),C.Kc(31,"\n      "),C.Sb(),C.Kc(32,"\n    "),C.Sb(),C.Kc(33,"\n    "),C.Tb(34,"div",13),C.Kc(35,"\n      "),C.Tb(36,"div",14),C.Kc(37),C.Sb(),C.Kc(38,"\n      "),C.Tb(39,"div",15),C.Kc(40,"\n        "),C.Tb(41,"small",16),C.Kc(42),C.ic(43,"number"),C.ic(44,"number"),C.Sb(),C.Kc(45,"\n      "),C.Sb(),C.Kc(46,"\n    "),C.Sb(),C.Kc(47,"\n    "),C.Tb(48,"div",17),C.Kc(49,"\n      "),C.Tb(50,"div",18),C.Kc(51,"\n        \xa0\n      "),C.Sb(),C.Kc(52,"\n      "),C.Tb(53,"div",19),C.Kc(54,"\n        \xa0\n      "),C.Sb(),C.Kc(55,"\n    "),C.Sb(),C.Kc(56,"\n  "),C.Sb(),C.Kc(57,"\n  "),C.Tb(58,"td"),C.Kc(59,"\n    "),C.Tb(60,"div",20),C.Kc(61,"\n      "),C.Tb(62,"label",21),C.Kc(63,"Float"),C.Sb(),C.Kc(64,"\n      "),C.Tb(65,"div",22),C.Kc(66),C.ic(67,"floatToCondition"),C.ic(68,"number"),C.Sb(),C.Kc(69,"\n      "),C.Tb(70,"div",23),C.Kc(71,"\n        "),C.Ob(72,"input",24),C.Kc(73,"\n        "),C.Tb(74,"div",25),C.Kc(75,"\n          "),C.Tb(76,"button",26),C.fc("click",(function(){return C.Bc(t),C.hc().pasteFloat()})),C.Kc(77,"\n            "),C.Ob(78,"i",27),C.Kc(79,"\n          "),C.Sb(),C.Kc(80,"\n          "),C.Tb(81,"button",28),C.fc("click",(function(){C.Bc(t);const e=C.hc();return e.copyFloat(e.item.float)})),C.Kc(82,"\n            "),C.Ob(83,"i",29),C.Kc(84,"\n          "),C.Sb(),C.Kc(85,"\n        "),C.Sb(),C.Kc(86,"\n      "),C.Sb(),C.Kc(87,"\n    "),C.Sb(),C.Kc(88,"\n  "),C.Sb(),C.Kc(89,"\n  "),C.Tb(90,"td"),C.Kc(91,"\n    "),C.Tb(92,"div",30),C.Kc(93,"\n      "),C.Tb(94,"label",21),C.Kc(95,"Price"),C.Sb(),C.Kc(96,"\n      "),C.Tb(97,"div",22),C.Kc(98,"\n        "),C.Kc(99,"\n        API:\n        "),C.Ic(100,ge,6,7,"ng-container",31),C.ic(101,"priceFromFloat"),C.Kc(102,"\n      "),C.Sb(),C.Kc(103,"\n      "),C.Tb(104,"div",23),C.Kc(105,"\n        "),C.Ob(106,"input",32),C.Kc(107,"\n        "),C.Tb(108,"div",25),C.Kc(109,"\n          "),C.Tb(110,"button",33),C.fc("click",(function(){return C.Bc(t),C.hc().resetPrice()})),C.Kc(111,"\n            "),C.Ob(112,"i",34),C.Kc(113,"\n          "),C.Sb(),C.Kc(114,"\n          "),C.Tb(115,"button",26),C.fc("click",(function(){return C.Bc(t),C.hc().pastePrice()})),C.Kc(116,"\n            "),C.Ob(117,"i",27),C.Kc(118,"\n          "),C.Sb(),C.Kc(119,"\n          "),C.Tb(120,"button",35),C.fc("click",(function(){C.Bc(t);const e=C.hc();return e.copyPrice(e.item.price)})),C.Kc(121,"\n            "),C.Ob(122,"i",29),C.Kc(123,"\n          "),C.Sb(),C.Kc(124,"\n        "),C.Sb(),C.Kc(125,"\n      "),C.Sb(),C.Kc(126,"\n    "),C.Sb(),C.Kc(127,"\n  "),C.Sb(),C.Kc(128,"\n  "),C.Tb(129,"td",36),C.Kc(130,"\n    "),C.Tb(131,"div",37),C.Kc(132,"\n      "),C.Tb(133,"a",38),C.fc("click",(function(){return C.Bc(t),C.hc().duplicateItem()})),C.Kc(134,"\n        "),C.Ob(135,"i",39),C.Kc(136,"\n      "),C.Sb(),C.Kc(137,"\n      "),C.Tb(138,"a",38),C.fc("click",(function(){return C.Bc(t),C.hc().clearItem()})),C.Kc(139,"\n        "),C.Ob(140,"i",40),C.Kc(141,"\n      "),C.Sb(),C.Kc(142,"\n    "),C.Sb(),C.Kc(143,"\n  "),C.Sb(),C.Kc(144,"\n"),C.Qb()}if(2&t){const t=C.yc(13),e=C.hc(),n=C.yc(6);C.pc("formGroup",e.control),C.zb(4),C.pc("ngStyle",C.tc(43,he,"url("+e.item.inputItem.image||!1))("ngbPopover",t)("popoverTitle",e.item.inputItem.name),C.zb(14),C.pc("ngStyle",C.tc(45,he,"url(assets/img/"+e.item.inputItem.collection.key+".png)")),C.zb(4),C.pc("ngIf",e.calculatorForm.get("stattrak").value),C.zb(3),C.Mc("\n        ",e.item.inputItem.name,"\n      "),C.zb(4),C.pc("ngTemplateOutlet",n)("ngTemplateOutletContext",C.vc(47,Ke,e.item.inputItem.name,e.item.float,e.stattrak)),C.zb(8),C.Mc("\n        ",e.item.inputItem.collection.name,"\n      "),C.zb(5),C.Nc("",C.kc(43,25,e.item.inputItem.min,"1.2-2")," -\n          ",C.kc(44,28,e.item.inputItem.max,"1.2-2"),""),C.zb(8),C.pc("ngStyle",C.tc(51,fe,100*e.item.inputItem.min)),C.zb(3),C.pc("ngStyle",C.tc(53,fe,100*e.item.inputItem.max)),C.zb(13),C.Mc("\n        ",C.lc(67,31,C.kc(68,35,e.item.float,"1.7-7"),"fullwithout",!0),"\n      "),C.zb(6),C.Eb("is-invalid",e.control.get("float").invalid),C.pc("min",null==e.item.inputItem?null:e.item.inputItem.min)("max",null==e.item.inputItem?null:e.item.inputItem.max),C.zb(4),C.pc("ngbTooltip",e.copiedValue.float?"Paste copied float: "+e.copiedValue.float:"Copy float to use use this function"),C.zb(24),C.pc("ngIf",C.mc(101,38,e.item.inputItem,e.item.float,!1,e.stattrak)),C.zb(6),C.Eb("is-invalid",e.control.get("price").invalid),C.pc("min",0),C.zb(9),C.pc("ngbTooltip",e.copiedValue.price?"Paste copied price: "+e.copiedValue.price:"Copy price to use use this function")}}function ve(t,e){1&t&&(C.Rb(0),C.Kc(1,"\n          "),C.Ob(2,"i",7),C.Kc(3,"\n        "),C.Qb())}function Te(t,e){1&t&&(C.Kc(0,"\n          "),C.Ob(1,"i",53),C.Kc(2,"\n        "))}function ye(t,e){if(1&t){const t=C.Ub();C.Tb(0,"app-skin-select-autocomplete",56),C.fc("skinSelected",(function(e){return C.Bc(t),C.hc(3).selectSkin(e)})),C.Kc(1,"\n        "),C.Sb()}if(2&t){const t=C.hc(3);C.pc("allSkins",t.skinsForAutocomplete)("inputHeightPx",28)("tabIndex",3)("showCollectionName",!0)}}function ke(t,e){1&t&&(C.Kc(0,"\n          "),C.Tb(1,"div",57),C.Kc(2,"No items for select"),C.Sb(),C.Kc(3,"\n        "))}function Ie(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n        "),C.Ic(2,ye,2,4,"app-skin-select-autocomplete",54),C.Kc(3,"\n        "),C.Ic(4,ke,4,0,"ng-template",null,55,C.Jc),C.Kc(6,"\n      "),C.Qb()),2&t){const t=C.yc(5),e=C.hc(2);C.zb(2),C.pc("ngIf",e.skinsForAutocomplete.length)("ngIfElse",t)}}function Ce(t,e){if(1&t){const t=C.Ub();C.Kc(0,"\n  "),C.Tb(1,"td",4),C.Kc(2,"\n    "),C.Tb(3,"div",46),C.Kc(4,"\n      "),C.Tb(5,"div",47),C.fc("click",(function(){return C.Bc(t),C.hc().openAddItemModal()})),C.Kc(6,"\n        "),C.Ic(7,ve,4,0,"ng-container",48),C.Kc(8,"\n        "),C.Ic(9,Te,3,0,"ng-template",null,49,C.Jc),C.Kc(11,"\n      "),C.Sb(),C.Kc(12,"\n    "),C.Sb(),C.Kc(13,"\n  "),C.Sb(),C.Kc(14,"\n  "),C.Tb(15,"td",50),C.Kc(16,"\n    "),C.Tb(17,"div",51),C.Kc(18,"\n      "),C.Tb(19,"label",52),C.Kc(20,"Skin name"),C.Sb(),C.Kc(21,"\n      "),C.Ic(22,Ie,7,2,"ng-container",31),C.Kc(23,"\n    "),C.Sb(),C.Kc(24,"\n  "),C.Sb(),C.Kc(25,"\n")}if(2&t){const t=C.yc(10),e=C.hc();C.zb(7),C.pc("ngIf",null==e.skinsForAutocomplete?null:e.skinsForAutocomplete.length)("ngIfElse",t),C.zb(15),C.pc("ngIf",e.skinsForAutocomplete)}}function Oe(t,e){if(1&t&&(C.Kc(0,"\n  "),C.Tb(1,"a",58),C.ic(2,"floatToCondition"),C.Ob(3,"i",59),C.Sb(),C.Kc(4,"\n")),2&t){const t=e.itemName,n=e.float,c=e.stattrak;C.zb(1),C.Ab("href","https://steamcommunity.com/market/listings/730/"+(c?"StatTrak\u2122 ":"")+t+" "+C.kc(2,1,n,"fullwithout"),C.Dc)}}let we=(()=>{class t{constructor(t,e,n,c){this.tradeupCalculatorService=t,this.parentForm=e,this.priceFromFloat=n,this.modalService=c,this.skinsForAutocomplete=[],this.copiedValueSubscription=f.a.EMPTY,this.floatValueChangeSubscription=f.a.EMPTY,this.stattrakChangeSubscription=f.a.EMPTY}get item(){return this.control.value}get stattrak(){return this.calculatorForm.get("stattrak").value}ngOnInit(){this.calculatorForm=this.parentForm.form,this.stattrakChangeSubscription=this.calculatorForm.get("stattrak").valueChanges.subscribe(t=>{this.control.value.inputItem&&this.resetPrice()}),this.copiedValueSubscription=this.tradeupCalculatorService.getCopiedValueChanges().subscribe(t=>{this.copiedValue=t}),this.floatValueChangeSubscription=this.control.get("float").valueChanges.subscribe(t=>{const e=Object(M.e)(t);-1!==e&&this.control.get("floatIndex").setValue(e,{emitEvent:!1}),this.control.get("inventoryItemId").setValue(null,{emitEvent:!1})})}ngOnDestroy(){this.copiedValueSubscription.unsubscribe(),this.floatValueChangeSubscription.unsubscribe(),this.stattrakChangeSubscription.unsubscribe()}selectSkin(t){this.addFloatValidationToControl(this.control,t);const e=+((t.min+t.max)/2).toFixed(7),n=Object(M.e)(e);this.control.patchValue({inputItem:t,float:e,floatIndex:n,price:this.priceFromFloat.transform(t,e,!1,this.calculatorForm.get("stattrak").value)})}openAddItemModal(){const t=this.modalService.open(le,{size:"xl",scrollable:!0});t.componentInstance.structCollection=this.structCollections,t.componentInstance.itemsForSelect=this.skinsForAutocomplete,t.componentInstance.rarity=this.calculatorForm.get("rarity").value,t.componentInstance.stattrak=this.stattrak,t.componentInstance.itemsInCalculator=this.calculatorForm.get("items").value,t.result.then(t=>{this.addFloatValidationToControl(this.control,t.inputItem),this.control.patchValue(t)},()=>{})}resetPrice(){const t=this.priceFromFloat.transform(this.item.inputItem,this.item.float,!1,this.stattrak);this.control.get("price").setValue(t)}copyFloat(t){this.copiedValue.float=t,this.tradeupCalculatorService.emitCopiedValues(this.copiedValue)}pasteFloat(){if(this.copiedValue.float){const t=Object(M.e)(this.copiedValue.float);this.control.patchValue({float:this.copiedValue.float,floatIndex:t})}}copyPrice(t){this.copiedValue.price=t,this.tradeupCalculatorService.emitCopiedValues(this.copiedValue)}pastePrice(){(this.copiedValue.price||this.copiedValue.price>=0)&&this.control.patchValue({price:this.copiedValue.price})}clearItem(){this.control.reset()}duplicateItem(){const t=this.calculatorForm.get("items").value.findIndex(t=>!t.inputItem);-1!==t&&(this.addFloatValidationToControl(this.calculatorForm.get(`items.${t}`),this.item.inputItem),this.calculatorForm.get(`items.${t}`).setValue(this.item))}addFloatValidationToControl(t,e){t.get("float").setValidators([i.y.required,i.y.min(e.min),i.y.max(e.max)])}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(ue),C.Nb(i.k),C.Nb(vt.a),C.Nb(o.j))},t.\u0275cmp=C.Hb({type:t,selectors:[["tr","app-calculator-input-item",""]],inputs:{control:"control",skinsForAutocomplete:"skinsForAutocomplete",structCollections:"structCollections"},features:[C.yb([vt.a],[{provide:i.b,useExisting:i.k}])],attrs:me,decls:7,vars:2,consts:[[3,"formGroup",4,"ngIf","ngIfElse"],["addItemTmpl",""],["linkToSteam",""],[3,"formGroup"],[1,"text-center","position-relative"],["container","body","popoverClass","item-popover","triggers","mouseenter:mouseleave",1,"d-block","skin-image","position-relative",3,"ngStyle","ngbPopover","popoverTitle"],[1,"position-absolute","add-change-item",3,"click"],[1,"fas","fa-plus","fa-2x"],["itemPreviewTmplBody",""],[1,"position-relative","skin-name-container"],[1,"collection-bg",3,"ngStyle"],["class","text-orange font-weight-bold",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"small","text-muted","clearfix"],[1,"float-left"],[1,"float-right"],[1,"text-muted"],[1,"progress","progress-xs","mt-1"],[1,"progress-bar","bg-transparent",3,"ngStyle"],[1,"progress-bar","bg-primary",3,"ngStyle"],["id","float-container",1,"form-group"],[1,"form-label","float-left"],[1,"float-right","text-muted","small"],[1,"input-group","mb-3"],["type","number","step","0.01","tabindex","1","formControlName","float",1,"form-control",3,"min","max"],[1,"input-group-append"],["type","button","container","body",1,"btn","btn-outline-primary","btn-sm",3,"ngbTooltip","click"],[1,"fas","fa-check"],["type","button","ngbTooltip","Copy float","container","body",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-copy"],[1,"form-group"],[4,"ngIf"],["type","number","step","0.01","tabindex","2","placeholder","Item price","formControlName","price",1,"form-control",3,"min"],["type","button","ngbTooltip","Reset price to API value","container","body",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-redo"],["type","button","ngbTooltip","Copy price","container","body",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"text-center"],[1,"item-action"],["href","javascript:;",1,"icon",3,"click"],["container","body","ngbTooltip","Duplicate this item into free slot",1,"fe","fe-copy"],["container","body","ngbTooltip","Remove item from calculator",1,"fe","fe-x"],[1,"text-center","mx-auto"],[1,"preview-img",3,"src"],[1,"alert","alert-info","text-center","mb-0","mt-2"],[1,"text-orange","font-weight-bold"],[3,"ngClass"],[1,"d-block","skin-image","position-relative"],[1,"position-absolute","add-change-item","no-item",3,"click"],[4,"ngIf","ngIfElse"],["noItemsForSelectIconTmpl",""],["colspan","4"],[1,"form-group","mb-1"],[1,"form-label"],[1,"fas","fa-frown-open","fa-2x"],[3,"allSkins","inputHeightPx","tabIndex","showCollectionName","skinSelected",4,"ngIf","ngIfElse"],["noItemsForSelectTmpl",""],[3,"allSkins","inputHeightPx","tabIndex","showCollectionName","skinSelected"],[1,"alert","alert-info","m-0","py-1"],["target","_blank","rel","noopener noreferrer"],[1,"fab","fa-steam"]],template:function(t,e){if(1&t&&(C.Ic(0,Se,145,55,"ng-container",0),C.Kc(1,"\n\n"),C.Ic(2,Ce,26,3,"ng-template",null,1,C.Jc),C.Kc(4,"\n\n\n"),C.Ic(5,Oe,5,4,"ng-template",null,2,C.Jc)),2&t){const t=C.yc(3);C.pc("ngIf",null==e.item?null:e.item.inputItem)("ngIfElse",t)}},directives:[c.o,i.p,i.k,c.p,o.v,c.t,i.t,i.c,i.o,i.i,o.z,c.m,wt],pipes:[c.g,tt.a,vt.a,c.d],styles:["td[_ngcontent-%COMP%]{padding-top:.3rem;padding-bottom:.3rem}td[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-bottom:0}td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:28px}td[_ngcontent-%COMP%]   .skin-image[_ngcontent-%COMP%]{width:60px;height:60px;background-size:100%;background-position:50%;background-repeat:no-repeat;z-index:1;transition:.3s ease}td[_ngcontent-%COMP%]   .skin-image[_ngcontent-%COMP%]:hover{background-size:80%}td[_ngcontent-%COMP%]   .skin-image[_ngcontent-%COMP%]   .add-change-item[_ngcontent-%COMP%]{opacity:0;transition:.3s ease;background:rgba(20,20,20,.6);width:100%;color:#fff;height:100%;display:flex;justify-content:center;align-items:center;border-radius:30%;cursor:pointer}td[_ngcontent-%COMP%]   .skin-image[_ngcontent-%COMP%]   .add-change-item.no-item[_ngcontent-%COMP%]{color:#000;opacity:.3}td[_ngcontent-%COMP%]   .skin-image[_ngcontent-%COMP%]   .add-change-item[_ngcontent-%COMP%]:hover{transition:.3s ease;opacity:1;color:#fff}td.skin-name-container[_ngcontent-%COMP%]{z-index:1}td.skin-name-container[_ngcontent-%COMP%]   .collection-bg[_ngcontent-%COMP%]{top:0;left:0;position:absolute;background-repeat:no-repeat;background-size:30%;opacity:.1;width:100%;height:100%;background-position:100%;z-index:-1}td[_ngcontent-%COMP%]   .item-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:.5rem}td[_ngcontent-%COMP%]   .item-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}"]}),t})(),xe=(()=>{class t{constructor(t,e){this.activeModal=t,this.formBuilder=e,this.currentPrice=0,this.createForm()}ngOnInit(){this.customPriceForm.get("priceBeforeTax").setValue(this.currentPrice||0)}savePrice(){this.activeModal.close(this.customPriceForm.value)}createForm(){this.customPriceForm=this.formBuilder.group({priceBeforeTax:[0,[i.y.required,i.y.min(0)]]})}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(o.c),C.Nb(i.f))},t.\u0275cmp=C.Hb({type:t,selectors:[["app-set-custom-price-modal"]],decls:61,vars:13,consts:[["id","customPriceModal",1,"modal-content"],[3,"formGroup","submit"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","pt-0"],[1,"row","mt-3"],[1,"col-12"],[1,"text-center","mx-auto"],["height","100",3,"src"],[1,"h5","mt-3","mb-5"],[1,"form-group"],["for","priceBeforeTax",1,"form-control-label"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","number","min","0","step","0.01","formControlName","priceBeforeTax","aria-label","Currency for display","id","priceBeforeTax",1,"form-control"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,e){1&t&&(C.Tb(0,"div",0),C.Kc(1,"\n  "),C.Tb(2,"form",1),C.fc("submit",(function(){return e.savePrice()})),C.Kc(3,"\n    "),C.Tb(4,"div",2),C.Kc(5,"\n      "),C.Tb(6,"h5",3),C.Kc(7,"Set custom price "),C.Sb(),C.Kc(8,"\n      "),C.Tb(9,"button",4),C.fc("click",(function(){return e.activeModal.dismiss()})),C.Kc(10,"\n      "),C.Sb(),C.Kc(11,"\n    "),C.Sb(),C.Kc(12,"\n    "),C.Tb(13,"div",5),C.Kc(14,"\n      "),C.Tb(15,"div",6),C.Kc(16,"\n        "),C.Tb(17,"div",7),C.Kc(18,"\n          "),C.Tb(19,"div",8),C.Kc(20,"\n            "),C.Ob(21,"img",9),C.Kc(22,"\n            "),C.Tb(23,"div",10),C.Kc(24),C.ic(25,"floatToCondition"),C.Sb(),C.Kc(26,"\n          "),C.Sb(),C.Kc(27,"\n        "),C.Sb(),C.Kc(28,"\n        "),C.Tb(29,"div",7),C.Kc(30,"\n          "),C.Tb(31,"div",11),C.Kc(32,"\n            "),C.Tb(33,"label",12),C.Kc(34,"New price before tax (13% Steam tax will be applied\n              separately)"),C.Sb(),C.Kc(35,"\n            "),C.Tb(36,"div",13),C.Kc(37,"\n              "),C.Tb(38,"div",14),C.Kc(39,"\n                "),C.Tb(40,"span",15),C.Kc(41,"$"),C.Sb(),C.Kc(42,"\n              "),C.Sb(),C.Kc(43,"\n              "),C.Ob(44,"input",16),C.Kc(45,"\n            "),C.Sb(),C.Kc(46,"\n          "),C.Sb(),C.Kc(47,"\n        "),C.Sb(),C.Kc(48,"\n      "),C.Sb(),C.Kc(49,"\n    "),C.Sb(),C.Kc(50,"\n    "),C.Tb(51,"div",17),C.Kc(52,"\n      "),C.Tb(53,"button",18),C.fc("click",(function(){return e.activeModal.dismiss()})),C.Kc(54,"Close"),C.Sb(),C.Kc(55,"\n      "),C.Tb(56,"button",19),C.Kc(57,"Set new price"),C.Sb(),C.Kc(58,"\n    "),C.Sb(),C.Kc(59,"\n  "),C.Sb(),C.Kc(60,"\n"),C.Sb()),2&t&&(C.zb(2),C.pc("formGroup",e.customPriceForm),C.zb(19),C.pc("src",e.currentItem.image||"assets/unknown.png",C.Dc),C.Ab("alt",e.currentItem.name),C.zb(3),C.Nc("\n              ",e.currentItem.name," ",C.kc(25,10,e.currentItemFloat,"fullwithout"),"\n            "),C.zb(7),C.Eb("has-danger",e.customPriceForm.get("priceBeforeTax").invalid),C.zb(13),C.Eb("is-invalid",e.customPriceForm.get("priceBeforeTax").invalid),C.zb(12),C.pc("disabled",e.customPriceForm.invalid))},directives:[i.A,i.p,i.k,i.t,i.c,i.o,i.i],pipes:[tt.a],styles:[""]}),t})();function ze(t,e){if(1&t&&(C.Kc(0,"\n                "),C.Tb(1,"div",23),C.Kc(2,"\n                  "),C.Ob(3,"img",24),C.Kc(4,"\n                "),C.Sb(),C.Kc(5,"\n                "),C.Tb(6,"div"),C.Kc(7),C.Sb(),C.Kc(8,"\n                "),C.Tb(9,"div"),C.Kc(10,"\n                  "),C.Tb(11,"app-skin-price-table",25),C.Kc(12,"\n                  "),C.Sb(),C.Kc(13,"\n                "),C.Sb(),C.Kc(14,"\n              ")),2&t){const t=C.hc(2).$implicit,e=C.hc();C.zb(3),C.pc("src",t.item.image||"assets/unknown.png",C.Dc),C.Ab("alt",t.item.name),C.zb(3),C.Cb("text-center text-rarity-",t.item.rarity.value,""),C.zb(1),C.Mc("\n                  ",t.item.rarity.name,"\n                "),C.zb(4),C.pc("item",t.item)("showHeader",!1)("showNormalPrices",!e.tradeupSettings.stattrak)("showStattrakPrices",e.tradeupSettings.stattrak)}}function Pe(t,e){if(1&t&&(C.Tb(0,"span"),C.Kc(1),C.Sb()),2&t){const t=C.hc(2).$implicit;C.zb(1),C.Mc("(",t.item.variation,")")}}function Fe(t,e){1&t&&(C.Tb(0,"span",26),C.Kc(1,"STATTRAK"),C.Sb())}function Me(t,e){1&t&&(C.Tb(0,"div",29),C.Kc(1,"\n                  Best outcome\n                "),C.Sb())}function _e(t,e){1&t&&(C.Tb(0,"div",30),C.Kc(1,"\n                  Worst outcome\n                "),C.Sb())}function Be(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                "),C.Ic(2,Me,2,0,"div",27),C.Kc(3,"\n                "),C.Ic(4,_e,2,0,"div",28),C.Kc(5,"\n              "),C.Qb()),2&t){const t=C.hc(2).$implicit,e=C.hc();C.zb(2),C.pc("ngIf",t.item.name===e.tradeupSummary.mostExpensivePrizeItem.name&&t.item.variation===e.tradeupSummary.mostExpensivePrizeItem.variation),C.zb(2),C.pc("ngIf",t.item.name===e.tradeupSummary.cheapestPrizeItem.name&&t.item.variation===e.tradeupSummary.cheapestPrizeItem.variation)}}function Ne(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                  ("),C.Tb(2,"span",31),C.Kc(3),C.ic(4,"number"),C.Sb(),C.Kc(5,")\n                "),C.Qb()),2&t){const t=e.ngIf,n=C.hc().skinPriceWithoutTax,c=C.hc(2);C.zb(2),C.pc("ngClass",t>=0?"text-success":"text-danger"),C.zb(1),C.Mc("$",C.kc(4,2,n-c.tradeupSummary.cost,"1.2-2"),"")}}const Ae=function(t){return{"background-image":t}},De=function(t,e,n){return{itemName:t,float:e,stattrak:n}};function Ve(t,e){if(1&t){const t=C.Ub();C.Kc(0,"\n          "),C.Tb(1,"tr"),C.Kc(2,"\n            "),C.Tb(3,"td",10),C.Kc(4,"\n              "),C.Ob(5,"div",11),C.Kc(6,"\n              "),C.Ic(7,ze,15,10,"ng-template",null,12,C.Jc),C.Kc(9,"\n            "),C.Sb(),C.Kc(10,"\n            "),C.Tb(11,"td",13),C.Kc(12,"\n              "),C.Ob(13,"img",14),C.Kc(14,"\n            "),C.Sb(),C.Kc(15,"\n            "),C.Tb(16,"td",13),C.Kc(17,"\n              "),C.Tb(18,"div"),C.Kc(19),C.Ic(20,Pe,2,1,"span",15),C.Kc(21,"\n\n                "),C.Ic(22,Fe,2,0,"span",16),C.Kc(23,"\n                "),C.Tb(24,"span"),C.Kc(25,"\n                  "),C.Rb(26,8),C.Kc(27,"\n                  "),C.Qb(),C.Kc(28,"\n                "),C.Sb(),C.Kc(29,"\n              "),C.Sb(),C.Kc(30,"\n              "),C.Ic(31,Be,6,2,"ng-container",15),C.Kc(32,"\n            "),C.Sb(),C.Kc(33,"\n            "),C.Tb(34,"td",17),C.Kc(35),C.ic(36,"floatToCondition"),C.ic(37,"number"),C.Sb(),C.Kc(38,"\n            "),C.Tb(39,"td",17),C.Kc(40,"\n              "),C.Tb(41,"span",18),C.Kc(42),C.ic(43,"number"),C.Sb(),C.Kc(44,"\n              |\n              "),C.Tb(45,"span",19),C.Kc(46),C.ic(47,"number"),C.Sb(),C.Kc(48,"\n              "),C.Rb(49),C.Kc(50,"\n                "),C.Tb(51,"a",20),C.fc("click",(function(){C.Bc(t);const e=C.hc().$implicit;return C.hc().openCustomPriceModal(e)})),C.Ob(52,"i",21),C.Sb(),C.Kc(53,"\n              "),C.Qb(),C.Kc(54,"\n            "),C.Sb(),C.Kc(55,"\n            "),C.Tb(56,"td",17),C.Kc(57),C.Sb(),C.Kc(58,"\n            "),C.Tb(59,"td",22),C.Kc(60,"\n              "),C.Tb(61,"strong"),C.Kc(62),C.ic(63,"percent"),C.Ic(64,Ne,6,5,"ng-container",15),C.Kc(65,"\n              "),C.Sb(),C.Kc(66,"\n            "),C.Sb(),C.Kc(67,"\n          "),C.Sb(),C.Kc(68,"\n        ")}if(2&t){const t=e.skinPriceWithoutTax,n=C.yc(8),c=C.hc().$implicit,i=C.hc(),o=C.yc(37);C.zb(1),C.Eb("profit-below",t-i.tradeupSummary.cost<0)("worst-outcome",c.item.name===i.tradeupSummary.cheapestPrizeItem.name)("best-outcome",c.item.name===i.tradeupSummary.mostExpensivePrizeItem.name),C.zb(4),C.pc("ngStyle",C.tc(37,Ae,"url("+(c.item.image||"assets/unknown.png")+")"))("ngbPopover",n)("popoverTitle",c.item.name),C.zb(8),C.pc("src","assets/img/"+c.item.collection.key+".png",C.Dc)("ngbTooltip",c.item.collection.name),C.zb(6),C.Mc("\n                ",c.item.name,"\n                "),C.zb(1),C.pc("ngIf",c.item.variation),C.zb(2),C.pc("ngIf",null==i.tradeupSettings?null:i.tradeupSettings.stattrak),C.zb(4),C.pc("ngTemplateOutlet",o)("ngTemplateOutletContext",C.vc(39,De,c.item.name,c.float,null==i.tradeupSettings?null:i.tradeupSettings.stattrak)),C.zb(5),C.pc("ngIf",i.tradeupSummary.outcomeSummary.outcomes.length>1),C.zb(4),C.Mc("\n              ",C.jc(36,23,C.kc(37,25,c.float,"1.7-7")),"\n            "),C.zb(7),C.Mc("$",C.kc(43,28,i.getSkinPrice(c.item,c.float)||0,"1.2-2"),""),C.zb(4),C.Mc("$",C.kc(47,31,t,"1.2-2"),""),C.zb(11),C.Mc("\n              ",i.getVolume(c.item,c.float)||0,"\n            "),C.zb(5),C.Mc("",C.kc(63,34,c.odds,"1.2-2"),"\n                "),C.zb(2),C.pc("ngIf",t-i.tradeupSummary.cost)}}const je=function(t){return{skinPriceWithoutTax:t}};function Ee(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n        "),C.Rb(2,8),C.Kc(3,"\n        "),C.Qb(),C.Kc(4,"\n\n        "),C.Ic(5,Ve,69,43,"ng-template",null,9,C.Jc),C.Kc(7,"\n      "),C.Qb()),2&t){const t=e.$implicit,n=C.yc(6),c=C.hc();C.zb(2),C.pc("ngTemplateOutlet",n)("ngTemplateOutletContext",C.tc(2,je,c.getSkinPrice(t.item,t.float,!0)))}}function Le(t,e){if(1&t&&(C.Kc(0,"\n  "),C.Tb(1,"a",32),C.ic(2,"floatToCondition"),C.Ob(3,"i",33),C.Sb(),C.Kc(4,"\n")),2&t){const t=e.itemName,n=e.float,c=C.hc();C.zb(1),C.Ab("href","https://steamcommunity.com/market/listings/730/"+(null!=c.tradeupSettings&&c.tradeupSettings.stattrak?"StatTrak\u2122 ":"")+t+" "+C.kc(2,1,n,"fullwithout"),C.Dc)}}let Re=(()=>{class t{constructor(t){this.modalService=t,this.outcomePriceChanged=new C.n}ngOnInit(){}getSkinPrice(t,e,n){var c;return Object(M.g)(t,e,null===(c=this.tradeupSettings)||void 0===c?void 0:c.stattrak,n)}getVolume(t,e){var n;return Object(M.i)(t,e,null===(n=this.tradeupSettings)||void 0===n?void 0:n.stattrak)}openCustomPriceModal(t){const e=this.modalService.open(xe,{size:"sm"});e.componentInstance.currentPrice=Object(M.g)(t.item,t.float,this.tradeupSettings.stattrak,!1),e.componentInstance.currentItem=t.item,e.componentInstance.currentItemFloat=t.float,e.result.then(e=>{const n=Object(M.e)(t.float);this.tradeupSettings.stattrak?t.item.price.stattrak[n]=e.priceBeforeTax:t.item.price.normal[n]=e.priceBeforeTax,this.outcomePriceChanged.emit(t)},()=>{})}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(o.j))},t.\u0275cmp=C.Hb({type:t,selectors:[["app-tradeup-calculator-outcome"]],inputs:{tradeupSummary:"tradeupSummary",tradeupSettings:"tradeupSettings"},outputs:{outcomePriceChanged:"outcomePriceChanged"},decls:39,vars:1,consts:[[1,"table-responsive"],[1,"table","table-hover","table-outline","table-vcenter","text-nowrap","card-table"],[1,"text-center","w-1"],[1,"text-muted","d-none","d-md-table-cell","text-nowrap","font-weight-bold"],[1,"text-right","text-muted","d-none","d-md-table-cell","text-nowrap","font-weight-bold"],[1,"text-right","font-weight-bold"],[4,"ngFor","ngForOf"],["linkToSteam",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["outcomeRowTmpl",""],[1,"text-center","position-relative"],["container","body","popoverClass","item-popover","triggers","mouseenter:mouseleave",1,"d-block","skin-image","position-relative",3,"ngStyle","ngbPopover","popoverTitle"],["itemPreviewTmplBody",""],[1,"p-0"],[1,"w-6",3,"src","ngbTooltip"],[4,"ngIf"],["class","tag tag-orange",4,"ngIf"],[1,"text-right","text-muted","d-none","d-md-table-cell","text-nowrap","p-0"],[1,"market-price"],[1,"price-no-tax","text-success","font-weight-bold"],["href","javascript:;","placement","top","ngbTooltip","Set custom price","container","body",3,"click"],[1,"fe","fe-edit"],[1,"text-right"],[1,"text-center","mx-auto"],[1,"preview-img",3,"src"],[3,"item","showHeader","showNormalPrices","showStattrakPrices"],[1,"tag","tag-orange"],["class","text-success font-size-12 font-weight-bold",4,"ngIf"],["class","text-danger font-size-12 font-weight-bold",4,"ngIf"],[1,"text-success","font-size-12","font-weight-bold"],[1,"text-danger","font-size-12","font-weight-bold"],[3,"ngClass"],["target","_blank","rel","noopener noreferrer"],[1,"fab","fa-steam"]],template:function(t,e){1&t&&(C.Tb(0,"div",0),C.Kc(1,"\n  "),C.Tb(2,"table",1),C.Kc(3,"\n    "),C.Tb(4,"thead"),C.Kc(5,"\n      "),C.Tb(6,"tr"),C.Kc(7,"\n        "),C.Ob(8,"th",2),C.Kc(9,"\n        "),C.Ob(10,"th"),C.Kc(11,"\n        "),C.Tb(12,"th",3),C.Kc(13,"Outcome"),C.Sb(),C.Kc(14,"\n        "),C.Tb(15,"th",4),C.Kc(16,"Float"),C.Sb(),C.Kc(17,"\n        "),C.Tb(18,"th",4),C.Kc(19,"\n          SCM Price | Without Tax\n        "),C.Sb(),C.Kc(20,"\n        "),C.Tb(21,"th",4),C.Kc(22,"Volume"),C.Sb(),C.Kc(23,"\n        "),C.Tb(24,"th",5),C.Kc(25,"Odds"),C.Sb(),C.Kc(26,"\n      "),C.Sb(),C.Kc(27,"\n    "),C.Sb(),C.Kc(28,"\n    "),C.Tb(29,"tbody"),C.Kc(30,"\n      "),C.Ic(31,Ee,8,4,"ng-container",6),C.Kc(32,"\n    "),C.Sb(),C.Kc(33,"\n  "),C.Sb(),C.Kc(34,"\n"),C.Sb(),C.Kc(35,"\n\n"),C.Ic(36,Le,5,4,"ng-template",null,7,C.Jc),C.Kc(38,"\n")),2&t&&(C.zb(31),C.pc("ngForOf",e.tradeupSummary.outcomeSummary.outcomes))},directives:[c.n,c.t,c.p,o.v,o.z,c.o,xt.a,c.m],pipes:[tt.a,c.g,c.v],styles:[".skin-image[_ngcontent-%COMP%]{width:40px;height:40px;background-size:100%;background-position:50%;background-repeat:no-repeat;z-index:1;transition:.3s ease}.best-outcome[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:5px solid #5eba00}.worst-outcome[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:5px solid #cd201f}"]}),t})();function We(t,e){if(1&t&&(C.Kc(0,"\n  "),C.Tb(1,"div",42),C.Kc(2,"\n    "),C.Ob(3,"img",43),C.Kc(4,"\n    "),C.Ob(5,"span",44),C.ic(6,"highlight"),C.Kc(7,"\n  "),C.Sb(),C.Kc(8,"\n")),2&t){const t=e.result,n=e.term;C.zb(3),C.pc("src",t.image||"assets/unknown.png",C.Dc),C.zb(2),C.pc("innerHTML",C.kc(6,2,t.name,n),C.Cc)}}function $e(t,e){if(1&t){const t=C.Ub();C.Tb(0,"app-tradeup-calculator-overview",45),C.fc("overviewClosed",(function(){return C.Bc(t),C.hc().overviewIsVisible=!1})),C.Kc(1,"\n"),C.Sb()}if(2&t){const t=C.hc();C.pc("inputItems",t.inputItems.controls)("tradeupSummary",t.tradeupSummary)("tradeupSettings",t.tradeupSettings)}}function Ue(t,e){if(1&t){const t=C.Ub();C.Rb(0),C.Kc(1,"\n                  "),C.Tb(2,"button",46),C.fc("click",(function(){return C.Bc(t),C.hc().openMultipleItemSelectModal()})),C.Kc(3,"\n                    Add multiple\n                  "),C.Sb(),C.Kc(4,"\n                "),C.Qb()}}function He(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                        "),C.Ob(2,"tr",56),C.Kc(3,"\n                      "),C.Qb()),2&t){const t=e.$implicit,n=C.hc(2);C.zb(2),C.pc("control",t)("skinsForAutocomplete",n.currentRaritySkins)("structCollections",n.structCollection)}}function Qe(t,e){if(1&t&&(C.Kc(0,"\n              "),C.Tb(1,"div",47),C.Kc(2,"\n                "),C.Tb(3,"table",48),C.Kc(4,"\n                  "),C.Tb(5,"thead"),C.Kc(6,"\n                    "),C.Tb(7,"tr"),C.Kc(8,"\n                      "),C.Tb(9,"th",49),C.Ob(10,"i",50),C.Sb(),C.Kc(11,"\n                      "),C.Tb(12,"th",51),C.Kc(13,"Input item"),C.Sb(),C.Kc(14,"\n                      "),C.Tb(15,"th",52),C.Kc(16,"Float"),C.Sb(),C.Kc(17,"\n                      "),C.Tb(18,"th",52),C.Kc(19,"Price"),C.Sb(),C.Kc(20,"\n                      "),C.Tb(21,"th",53),C.Ob(22,"i",54),C.Sb(),C.Kc(23,"\n                    "),C.Sb(),C.Kc(24,"\n                  "),C.Sb(),C.Kc(25,"\n                  "),C.Tb(26,"tbody"),C.Kc(27,"\n                    "),C.Rb(28,55),C.Kc(29,"\n                      "),C.Ic(30,He,4,3,"ng-container",40),C.Kc(31,"\n                    "),C.Qb(),C.Kc(32,"\n                  "),C.Sb(),C.Kc(33,"\n                "),C.Sb(),C.Kc(34,"\n              "),C.Sb(),C.Kc(35,"\n            ")),2&t){const t=C.hc();C.zb(1),C.Eb("d-none",t.inputsCollapsed),C.zb(29),C.pc("ngForOf",t.inputItems.controls)}}function Je(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                "),C.Tb(2,"div"),C.Kc(3,"\n                  Cost: "),C.Tb(4,"b"),C.Kc(5),C.ic(6,"currency"),C.Sb(),C.Kc(7,"\n                "),C.Sb(),C.Kc(8,"\n              "),C.Qb()),2&t){const t=C.hc();C.zb(5),C.Lc(C.mc(6,1,t.tradeupSummary.cost,"USD","symbol","1.2-2"))}}function Ye(t,e){if(1&t&&(C.Kc(0,"\n                "),C.Tb(1,"div"),C.Kc(2),C.Sb(),C.Kc(3,"\n              ")),2&t){const t=C.hc();C.zb(2),C.Mc("Add ",t.emptySlotAmount," more items")}}function qe(t,e){if(1&t){const t=C.Ub();C.Tb(0,"div",25),C.Kc(1,"\n          "),C.Tb(2,"div",57),C.Kc(3,"\n            "),C.Tb(4,"h3",10),C.Kc(5,"Outcomes"),C.Sb(),C.Kc(6,"\n          "),C.Sb(),C.Kc(7,"\n\n          "),C.Tb(8,"app-tradeup-calculator-outcome",58),C.fc("outcomePriceChanged",(function(e){return C.Bc(t),C.hc().recalculateSummary(e)})),C.Kc(9,"\n          "),C.Sb(),C.Kc(10,"\n        "),C.Sb()}if(2&t){const t=C.hc();C.zb(8),C.pc("tradeupSummary",t.tradeupSummary)("tradeupSettings",t.tradeupSettings)}}function Ge(t,e){1&t&&(C.Tb(0,"div",25),C.Kc(1,"\n            "),C.Tb(2,"div",26),C.Kc(3,"\n              "),C.Tb(4,"div",60),C.Kc(5,"\n                Could not get outcomes\n              "),C.Sb(),C.Kc(6,"\n            "),C.Sb(),C.Kc(7,"\n          "),C.Sb())}function Xe(t,e){if(1&t&&(C.Kc(0,"\n          "),C.Ic(1,Ge,8,0,"div",59),C.Kc(2,"\n        ")),2&t){const t=C.hc();C.zb(1),C.pc("ngIf",!t.emptySlotAmount)}}const Ze=function(t){return{rarity:t}};function tn(t,e){if(1&t&&(C.Kc(0,"\n                      "),C.Rb(1,66),C.Kc(2,"\n                      "),C.Qb(),C.Kc(3,"\n                    ")),2&t){const t=C.hc().$implicit;C.hc();const e=C.yc(43);C.zb(1),C.pc("ngTemplateOutlet",e)("ngTemplateOutletContext",C.tc(2,Ze,t))}}function en(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n                  "),C.Tb(2,"div",61),C.Kc(3,"\n                    "),C.Tb(4,"a",62),C.Kc(5,"\n                      "),C.Tb(6,"label",34),C.Kc(7,"\n                        "),C.Ob(8,"input",63),C.Kc(9,"\n                        "),C.Tb(10,"span",64),C.Kc(11),C.Sb(),C.Kc(12,"\n                      "),C.Sb(),C.Kc(13,"\n                    "),C.Sb(),C.Kc(14,"\n                    "),C.Ic(15,tn,4,4,"ng-template",65),C.Kc(16,"\n                  "),C.Sb(),C.Kc(17,"\n                "),C.Qb()),2&t){const t=e.$implicit,n=C.hc();C.zb(2),C.pc("ngbNavItem",t),C.zb(6),C.pc("value",t),C.zb(2),C.pc("ngClass","rarity-"+t),C.zb(1),C.Lc(n.rarityEnum[t])}}function nn(t,e){if(1&t&&(C.Rb(0),C.Kc(1,"\n          "),C.Tb(2,"app-tradeup-calculator-summary",67),C.Kc(3,"\n          "),C.Sb(),C.Kc(4,"\n        "),C.Qb()),2&t){const t=C.hc();C.zb(2),C.pc("tradeupSettings",t.tradeupSettings)("tradeupSummary",t.tradeupSummary)}}const cn=[{path:"",component:(()=>{class t{constructor(t,e,n,c,i,o,a){var r,s;this.formBuilder=t,this.tradeupSearchService=e,this.cdr=n,this.router=c,this.route=i,this.modalService=o,this.authService=a,this.currentTabId=3,this.rarities=[_.k.Consumer,_.k.Industrial,_.k.MilSpec,_.k.Restricted,_.k.Classified],this.rarityEnum=_.k,this.tradeupSettings={rarity:3,stattrak:!1,withoutSteamTax:!1},this.emptySlotAmount=10,this.inputsCollapsed=!1,this.overviewIsVisible=!1,this.userAuthenticated=!1,this.getItemSubscription=f.a.EMPTY,this.formValueChangeSubscription=f.a.EMPTY,this.calculatorItemValueChangeSubscription=f.a.EMPTY,this.userAuthenticated=this.authService.isAuthenticated(),this.currentTabId=this.tradeupSettings.rarity,this.calculatorForm=this.createForm(this.currentTabId),this.inputItems=this.calculatorForm.get("items");const l=null===(s=null===(r=this.router.getCurrentNavigation())||void 0===r?void 0:r.extras)||void 0===s?void 0:s.state;l&&this.initTradeup(l)}get rarityOnForm(){return this.calculatorForm.get("rarity").value}ngOnInit(){this.getItemSubscription=this.route.queryParams.pipe(Object(v.a)(t=>(t.inputs&&(this.calculatorForm.patchValue({stattrak:Boolean(t.st),rarity:+t.r,withoutSteamTax:Boolean(t.notax)}),this.sharedTradeupInfo=Object(z.c)(t.inputs)),this.tradeupSearchService.getItems()))).subscribe(t=>{this.tradeupSettings=this.getTradeupSettings(),this.storedRootObjWithItems=t,this.structCollection=Object(F.b)(t),this.storeSkinsForCurrentRarity(),this.sharedTradeupInfo&&this.recreateTradeup(),this.cdr.markForCheck()}),this.formValueChangeSubscription=Object(S.a)([this.calculatorForm.get("stattrak").valueChanges.pipe(Object(T.a)(this.tradeupSettings.stattrak)),this.calculatorForm.get("rarity").valueChanges.pipe(Object(T.a)(this.tradeupSettings.rarity))]).pipe(Object(y.a)(1)).subscribe(t=>{this.storeSkinsForCurrentRarity();const[e,n]=t;this.tradeupSettings.stattrak!==e&&this.inputItems.value.forEach((t,n)=>{var c;e&&!(null===(c=t.inputItem)||void 0===c?void 0:c.stattrak)&&this.inputItems.at(n).reset()}),this.tradeupSettings.rarity!==n&&this.resetCalculator()}),this.calculatorItemValueChangeSubscription=Object(S.a)([this.calculatorForm.get("items").valueChanges.pipe(Object(T.a)([])),this.calculatorForm.get("withoutSteamTax").valueChanges.pipe(Object(T.a)(!1))]).pipe(Object(y.a)(this.sharedTradeup?0:1),Object(k.a)(200)).subscribe(t=>{this.tradeupSettings=this.getTradeupSettings(),this.emptySlotAmount=this.inputItems.controls.filter(t=>!Boolean(t.value.inputItem)).length,this.inputItems.valid?this.calculate():(10===this.emptySlotAmount&&(this.averageFloat=void 0),this.emptySlotAmount&&(this.tradeupSummary=void 0)),this.calculateAverageFloat(),this.cdr.markForCheck()})}ngOnDestroy(){this.getItemSubscription.unsubscribe(),this.formValueChangeSubscription.unsubscribe(),this.calculatorItemValueChangeSubscription.unsubscribe()}changeTab(t){this.currentTabId=t.nextId,this.calculatorForm.get("rarity").setValue(this.currentTabId)}toggleCollapse(){this.inputsCollapsed=!this.inputsCollapsed}calculateAverageFloat(){const t=this.inputItems.controls.reduce((t,e)=>t+e.value.float,0);t>0&&(this.averageFloat=+(t/(10-this.emptySlotAmount||10)).toFixed(7),this.cdr.markForCheck())}resetCalculator(){const t=this.createForm(this.currentTabId).get("items").value;this.calculatorForm.get("items").reset(t),this.calculatorForm.get("items").clearValidators(),this.tradeupSummary=void 0,this.averageFloat=void 0,this.cdr.markForCheck()}recalculateSummary(t){const e=this.getItemsForCalculation(this.inputItems.value),n=Object(F.a)(e,this.tradeupSettings.stattrak,this.structCollection,this.tradeupSettings.withoutSteamTax,!0,t);this.tradeupSummary=n,this.cdr.markForCheck()}openMultipleItemSelectModal(){const t=this.modalService.open(X,{size:"xl",scrollable:!0});t.componentInstance.structCollection=this.structCollection,t.componentInstance.itemsForSelect=this.currentRaritySkins,t.componentInstance.rarity=this.calculatorForm.get("rarity").value,t.componentInstance.stattrak=this.calculatorForm.get("stattrak").value,t.componentInstance.itemsInCalculator=this.calculatorForm.get("items").value,t.result.then(t=>{const e=this.inputItems.controls.filter(t=>!t.value.inputItem);t.forEach((t,n)=>e[n].setValue(t))},()=>{})}getTradeupSettings(){return{rarity:this.calculatorForm.get("rarity").value,stattrak:this.calculatorForm.get("stattrak").value,withoutSteamTax:this.calculatorForm.get("withoutSteamTax").value}}getItemsForCalculation(t){return t.map(t=>{const e=K.cloneDeep(t);this.tradeupSettings.stattrak?e.inputItem.price.stattrak[e.floatIndex]=e.price:e.inputItem.price.normal[e.floatIndex]=e.price;const n=new _.f;return n.float=e.float,n.item=e.inputItem,n})}calculate(){this.tradeupSettings=this.getTradeupSettings();const t=this.getItemsForCalculation(this.inputItems.value),e=Object(F.a)(t,this.tradeupSettings.stattrak,this.structCollection,this.tradeupSettings.withoutSteamTax,!0);e.outcomeSummary?this.tradeupSummary=e:this.emptySlotAmount=this.inputItems.controls.filter(t=>!Boolean(t.value.inputItem)).length,this.cdr.markForCheck()}createItem(){return this.formBuilder.group({inputItem:[null,i.y.required],float:[null],price:[0,[i.y.required,i.y.min(0)]],floatIndex:[null],inventoryItemId:[null]})}createForm(t){return this.formBuilder.group({stattrak:[this.tradeupSettings.stattrak,i.y.required],rarity:[t,i.y.required],withoutSteamTax:[this.tradeupSettings.withoutSteamTax],items:this.formBuilder.array(new Array(10).fill(null).map(()=>this.createItem()))})}storeSkinsForCurrentRarity(){this.currentRaritySkins=Object(M.a)(this.storedRootObjWithItems,this.calculatorForm.get("stattrak").value,this.rarityOnForm,this.structCollection)}initTradeup(t){this.calculatorForm.patchValue({stattrak:t.settings.stattrak,withoutSteamTax:t.settings.compareWithoutTax,rarity:t.settings.rarity}),this.inputItems.controls.forEach((e,n)=>{const c=t.tradeup.items[n],i=new j.b;i.float=+c.float.toFixed(7),i.floatIndex=Object(M.e)(i.float),i.inputItem=c.item,i.price=+Object(M.g)(c.item,i.float,t.settings.stattrak,!1).toFixed(2),e.patchValue(i),this.setValidationOnControl(e,i)}),this.sharedTradeup=!0}setValidationOnControl(t,e){t.get("float").setValidators([i.y.required,i.y.min(e.inputItem.min),i.y.max(e.inputItem.max)])}recreateTradeup(){const t=new Array(10).fill(new _.f);this.sharedTradeupInfo.itemIds.forEach((e,n)=>{const c=Object(z.b)(e)||x.a[e];t[n]=new _.f({item:this.storedRootObjWithItems.weapons[c],float:this.sharedTradeupInfo.floats[n]})}),this.inputItems.controls.forEach((e,n)=>{const c=t[n];if(c.item){const t=new j.b;t.float=this.sharedTradeupInfo.floats[n],t.floatIndex=Object(M.e)(t.float),t.inputItem=c.item,t.price=this.sharedTradeupInfo.prices[n],e.patchValue(t),this.setValidationOnControl(e,t)}}),this.sharedTradeup=!0}unloadHandler(t){10!==this.emptySlotAmount&&(t.returnValue=!1)}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(i.f),C.Nb(P.a),C.Nb(C.h),C.Nb(g.d),C.Nb(g.a),C.Nb(o.j),C.Nb(w))},t.\u0275cmp=C.Hb({type:t,selectors:[["app-tradeup-calculator"]],hostBindings:function(t,e){1&t&&C.fc("beforeunload",(function(t){return e.unloadHandler(t)}),!1,C.Ac)},decls:135,vars:25,consts:[["resultTmpl",""],[3,"inputItems","tradeupSummary","tradeupSettings","overviewClosed",4,"ngIf"],[1,"px-4","my-3","my-md-5"],[3,"formGroup"],[1,"row"],[1,"col-lg-9"],[1,"card","dimmer"],[1,"loader"],[1,"dimmer-content"],[1,"card-header","py-0"],[1,"card-title","d-none","d-md-block"],[1,"card-options"],[4,"ngIf"],["href","javascript:;","placement","bottom","ngbTooltip","Clear trade up",1,"mr-4",3,"click"],[1,"fe","fe-trash"],["href","javascript:;","placement","bottom","ngbTooltip","Collapse/Expand",3,"click"],[1,"fe",3,"ngClass"],[3,"ngbNavOutlet"],["itemsByRarityTmpl",""],[1,"card-footer","d-flex","justify-content-between"],[4,"ngIf","ngIfElse"],["addMoreItemsTmpl",""],["class","card",4,"ngIf","ngIfElse"],["noOutcomesTmpl",""],[1,"col-lg-3"],[1,"card"],[1,"card-body"],[1,"form-group"],[1,"custom-control","custom-switch"],["type","checkbox","formControlName","withoutSteamTax","id","withoutSteamTax",1,"custom-control-input"],["for","withoutSteamTax",1,"custom-control-label"],["placement","bottom","ngbTooltip","Based on this property it is decided what items are considered below cost. If disabled then amount of items below cost will be compared to SCM price (With Steam Tax, 13%)","openDelay","300",1,"fas","fa-info-circle","ml-1","text-info"],[1,"form-label"],[1,"selectgroup","selectgroup-pills"],[1,"selectgroup-item"],["type","radio","formControlName","stattrak",1,"selectgroup-input",3,"value"],[1,"selectgroup-button","stattrak"],[1,"selectgroup-button"],["ngbNav","",1,"selectgroup","selectgroup-pills",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[4,"ngFor","ngForOf"],[3,"summary","settings","inputItems","structCollections","emtpySlotAmount","loadingActive","resetTradeup","openOverview"],[1,"w-100"],["alt","","height","50",3,"src"],[1,"ml-2","text-right",3,"innerHTML"],[3,"inputItems","tradeupSummary","tradeupSettings","overviewClosed"],["type","button","placement","bottom","ngbTooltip","Add multiple items from inventory",1,"btn","btn-primary","btn-sm","mr-4",3,"click"],[1,"table-responsive"],[1,"table","table-hover","table-outline","table-vcenter","text-nowrap","card-table"],[1,"text-center","w-1"],[1,"icon-people"],[1,"info-head-container"],[1,"input-head-container"],[1,"text-center"],[1,"icon-settings"],["formArrayName","items"],["app-calculator-input-item","",3,"control","skinsForAutocomplete","structCollections"],[1,"card-header"],[3,"tradeupSummary","tradeupSettings","outcomePriceChanged"],["class","card",4,"ngIf"],[1,"alert","alert-warning","h4","text-center"],[3,"ngbNavItem"],["ngbNavLink",""],["type","radio","formControlName","rarity",1,"selectgroup-input",3,"value"],[1,"selectgroup-button",3,"ngClass"],["ngbNavContent",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"tradeupSettings","tradeupSummary"]],template:function(t,e){if(1&t&&(C.Ic(0,We,9,5,"ng-template",null,0,C.Jc),C.Kc(2,"\n\n"),C.Ic(3,$e,2,3,"app-tradeup-calculator-overview",1),C.Kc(4,"\n\n"),C.Tb(5,"div",2),C.Kc(6,"\n  "),C.Tb(7,"form",3),C.Kc(8,"\n    "),C.Tb(9,"div",4),C.Kc(10,"\n      "),C.Tb(11,"div",5),C.Kc(12,"\n        "),C.Tb(13,"div",6),C.Kc(14,"\n          "),C.Ob(15,"div",7),C.Kc(16,"\n          "),C.Tb(17,"div",8),C.Kc(18,"\n            "),C.Tb(19,"div",9),C.Kc(20,"\n              "),C.Tb(21,"h3",10),C.Kc(22,"Input items"),C.Sb(),C.Kc(23,"\n              "),C.Tb(24,"div",11),C.Kc(25,"\n                "),C.Ic(26,Ue,5,0,"ng-container",12),C.Kc(27,"\n                "),C.Tb(28,"a",13),C.fc("click",(function(){return e.resetCalculator()})),C.Kc(29,"\n                  "),C.Ob(30,"i",14),C.Kc(31,"\n                "),C.Sb(),C.Kc(32,"\n                "),C.Tb(33,"a",15),C.fc("click",(function(){return e.toggleCollapse()})),C.Kc(34,"\n                  "),C.Ob(35,"i",16),C.Kc(36,"\n                "),C.Sb(),C.Kc(37,"\n              "),C.Sb(),C.Kc(38,"\n            "),C.Sb(),C.Kc(39,"\n\n            "),C.Ob(40,"div",17),C.Kc(41,"\n\n            "),C.Ic(42,Qe,36,3,"ng-template",null,18,C.Jc),C.Kc(44,"\n            "),C.Tb(45,"div",19),C.Kc(46,"\n              "),C.Tb(47,"div"),C.Kc(48,"\n                Average float: "),C.Tb(49,"b"),C.Kc(50),C.ic(51,"number"),C.Sb(),C.Kc(52,"\n              "),C.Sb(),C.Kc(53,"\n              "),C.Ic(54,Je,9,6,"ng-container",20),C.Kc(55,"\n              "),C.Ic(56,Ye,4,1,"ng-template",null,21,C.Jc),C.Kc(58,"\n            "),C.Sb(),C.Kc(59,"\n          "),C.Sb(),C.Kc(60,"\n        "),C.Sb(),C.Kc(61,"\n\n        "),C.Ic(62,qe,11,2,"div",22),C.Kc(63,"\n        "),C.Ic(64,Xe,3,1,"ng-template",null,23,C.Jc),C.Kc(66,"\n      "),C.Sb(),C.Kc(67,"\n      "),C.Tb(68,"div",24),C.Kc(69,"\n        "),C.Tb(70,"div",25),C.Kc(71,"\n          "),C.Tb(72,"div",26),C.Kc(73,"\n            "),C.Tb(74,"div",27),C.Kc(75,"\n              "),C.Tb(76,"div",28),C.Kc(77,"\n                "),C.Ob(78,"input",29),C.Kc(79,"\n                "),C.Tb(80,"label",30),C.Kc(81,"Use prices after Steam tax\n                  "),C.Ob(82,"i",31),C.Kc(83,"\n                "),C.Sb(),C.Kc(84,"\n              "),C.Sb(),C.Kc(85,"\n            "),C.Sb(),C.Kc(86,"\n            "),C.Tb(87,"div",27),C.Kc(88,"\n              "),C.Tb(89,"label",32),C.Kc(90,"Stattrak or normal"),C.Sb(),C.Kc(91,"\n              "),C.Tb(92,"div",33),C.Kc(93,"\n                "),C.Tb(94,"label",34),C.Kc(95,"\n                  "),C.Ob(96,"input",35),C.Kc(97,"\n                  "),C.Tb(98,"span",36),C.Kc(99,"STATTRAK"),C.Sb(),C.Kc(100,"\n                "),C.Sb(),C.Kc(101,"\n                "),C.Tb(102,"label",34),C.Kc(103,"\n                  "),C.Ob(104,"input",35),C.Kc(105,"\n                  "),C.Tb(106,"span",37),C.Kc(107,"Normal"),C.Sb(),C.Kc(108,"\n                "),C.Sb(),C.Kc(109,"\n              "),C.Sb(),C.Kc(110,"\n            "),C.Sb(),C.Kc(111,"\n            "),C.Rb(112),C.Kc(113,"\n              "),C.Tb(114,"label",32),C.Kc(115,"Rarity"),C.Sb(),C.Kc(116,"\n              "),C.Tb(117,"div",38,39),C.fc("activeIdChange",(function(t){return e.currentTabId=t}))("navChange",(function(t){return e.changeTab(t)})),C.Kc(119,"\n                "),C.Ic(120,en,18,4,"ng-container",40),C.Kc(121,"\n              "),C.Sb(),C.Kc(122,"\n            "),C.Qb(),C.Kc(123,"\n          "),C.Sb(),C.Kc(124,"\n        "),C.Sb(),C.Kc(125,"\n\n        "),C.Ic(126,nn,5,2,"ng-container",12),C.Kc(127,"\n\n        "),C.Tb(128,"app-tradeup-calculator-actions",41),C.fc("loadingActive",(function(t){return e.isLoading=t}))("resetTradeup",(function(){return e.resetCalculator()}))("openOverview",(function(){return e.overviewIsVisible=!0})),C.Kc(129,"\n        "),C.Sb(),C.Kc(130,"\n      "),C.Sb(),C.Kc(131,"\n    "),C.Sb(),C.Kc(132,"\n  "),C.Sb(),C.Kc(133,"\n"),C.Sb(),C.Kc(134,"\n")),2&t){const t=C.yc(57),n=C.yc(65),c=C.yc(118);C.zb(3),C.pc("ngIf",e.overviewIsVisible),C.zb(4),C.pc("formGroup",e.calculatorForm),C.zb(6),C.Eb("active",e.isLoading||!e.currentRaritySkins),C.zb(13),C.pc("ngIf",e.userAuthenticated),C.zb(9),C.pc("ngClass",e.inputsCollapsed?"fe-chevron-down":"fe-chevron-up"),C.zb(5),C.pc("ngbNavOutlet",c),C.zb(10),C.Lc(e.averageFloat?C.kc(51,22,e.averageFloat,"1.7-7"):"-"),C.zb(4),C.pc("ngIf",e.tradeupSummary)("ngIfElse",t),C.zb(8),C.pc("ngIf",e.tradeupSummary)("ngIfElse",n),C.zb(34),C.pc("value",!0),C.zb(8),C.pc("value",!1),C.zb(13),C.pc("activeId",e.currentTabId),C.zb(3),C.pc("ngForOf",e.rarities),C.zb(6),C.pc("ngIf",e.tradeupSummary),C.zb(2),C.pc("summary",e.tradeupSummary)("settings",e.tradeupSettings)("inputItems",e.inputItems.value)("structCollections",e.structCollection)("emtpySlotAmount",e.emptySlotAmount)}},directives:[c.o,i.A,i.p,i.k,o.z,c.m,o.r,i.a,i.o,i.i,i.u,i.c,o.m,c.n,Z.a,St,i.e,we,Re,o.o,o.p,o.n,c.t,it],pipes:[c.g,kt,c.d],styles:[".nav-item[_ngcontent-%COMP%], .nav-link[_ngcontent-%COMP%]{padding:0}.info-head-container[_ngcontent-%COMP%]{min-width:250px}.input-head-container[_ngcontent-%COMP%]{min-width:180px;max-width:180px}@media screen and (max-width:996px){.info-head-container[_ngcontent-%COMP%]{min-width:auto;max-width:auto}}"],changeDetection:0}),t})(),data:{title:Object(h.c)("Trade up calculator")}}];let on=(()=>{class t{}return t.\u0275mod=C.Lb({type:t}),t.\u0275inj=C.Kb({factory:function(e){return new(e||t)},providers:[],imports:[[g.h.forChild(cn)],g.h]}),t})(),an=(()=>{class t{}return t.\u0275mod=C.Lb({type:t}),t.\u0275inj=C.Kb({factory:function(e){return new(e||t)},providers:[ue],imports:[[c.c,on,i.w,o.C,p.a,o.A,o.w,u.a,d.a,m.a,o.q,o.k,o.b,b.a,s.b,o.h,l.a,o.y,r.a,a.b]]}),t})()}}]);